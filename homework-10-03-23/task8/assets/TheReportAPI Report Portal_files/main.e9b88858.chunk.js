(this["webpackJsonpreport-portal-dashboard"]=this["webpackJsonpreport-portal-dashboard"]||[]).push([[0],{267:function(e,t){},268:function(e,t){},269:function(e,t){},465:function(e,t){},537:function(e,t){},538:function(e,t){},539:function(e,t){},541:function(e,t){},584:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(34),o=n.n(c),r=n(25),s=n(29),l=n(10),d=n(14),u={apiKey:"".concat("AIzaSyDPCLCdubR1ZFLQvI7drV4IfqLfODt8Gqc"),authDomain:"".concat("theanalyticsapi.firebaseapp.com"),databaseURL:"".concat("theanalyticsapi"),projectId:"".concat("https://theanalyticsapi.firebaseio.com"),storageBucket:"theanalyticsapi.appspot.com",messagingSenderId:"-",appId:"1:512433183092:web:fa9fa87fadaeb9e0ebf421",measurementId:"G-K0DRBC8364"};d.a.initializeApp(u);var j=d.a.auth(),h=(d.a,n(657)),p=n(660),b=n(653),g=n(655),O=n(656),m=n(96),f=n(649),x=n(651),v=n(699),y=n(663),w=n(654),S=n(661),C=n(698),k=n(8),T=n(19),I=n(1),N=Object(f.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",marginRight:e.spacing(2)},wrapper:{position:"relative",zIndex:1,display:"inline-block"},button:{margin:e.spacing(1),position:"absolute",bottom:"20px",left:"20%",alignSelf:"center"},input:{paddingLeft:e.spacing(1)},width100:{width:"100%"},noWrap:{whiteSpace:"nowrap"},quoteText:{fontSize:"40px",fontFamily:"'Amatic SC', cursive",textAlign:"center",margin:"0 auto"},quoteFooter:{margin:"10px 0 10px 0",fontSize:"18px",textAlign:"right"},faQuoteLeft:{position:"relative",top:"34px"},faQuoteRight:{position:"relative",bottom:"23px",float:"right"}}})),A=Object(T.b)((function(e,t){return Object(k.a)(Object(k.a)({},t),{},{quotes:e.quotes})}))((function(e){var t=N(),n=Object(a.useState)({text:"test",author:"author"}),i=Object(l.a)(n,2),c=i[0],o=i[1],r=[{text:"We have to learn to interrogate our data collection process, not just our algorithms",author:"Cathy O'Neil"},{text:"When used correctly, data is not the enemy of Intuitive Creative Thinkers; it is a powerful friend.",author:"Leena Patel"},{text:"Information overload creates poverty of intelligence and action.",author:"Jag Randhawa"},{text:"Excessive information creates its own form of blindness to what is actually going on.",author:"Alexander Chancellor"},{author:"Hans Rosling",text:"Free access to data doesn\u2019t turn into knowledge without effort"},{text:"Maybe stories are just data with a soul.",author:"Bren\xe9 Brown"},{text:"Spreadsheets are more important to marketing than pretty pictures these days.",author:"Trevor Carss"},{text:"All data has its beauty, but not everyone sees it.",author:"Damian Mingle"},{text:"What gets tracked, gets measured What gets measured, gets managed What gets managed, is improved.",author:"Eddie Gear"},{text:'As one Google Translate engineer put it, "when you go from 10,000 training examples to 10 billion training examples, it all starts to work. Data trumps everything.',author:"Garry Kasparov"},{author:"Shitalkumar R Sukhdeve",text:"For getting success in business with Data Science, predictions must be backed by timely strategic actions."},{author:"Pearl Zhu",text:"We are moving slowly into an era where Big Data is the starting point, not the end."},{author:"Damian Mingle",text:"In Data Science if you want to help individuals, be empathetic and ask questions; that way, you can begin to understand their journey, too.\u201d"},{text:"While all the data we have is about the past, all the decisions we make are about the future",author:"Alex Hagan"},{text:"Cash is King. Information is his twin.",author:"Sotero M Lopez II"},{author:"Jon Acuff",text:"That's all data is. A gift from yesterday that you receive today to make tomorrow better."},{text:"A good chart widens our imagination and enhances our understanding by providing insights from numbers.",author:"Alberto Cairo"},{author:"Kurt Seapoint",text:"Destroy your money, you can earn more. Destroy your data, your existence is erased."},{categories:{BM5Rx3L84fZqSGP0EPkQ:!0},author:"Sir Arthur Conan Doyle, Sherlock Holmes",text:"It is a capital mistake to theorize before one has data. Insensibly one begins to twist facts to suit theories, instead of theories to suit facts."},{text:"One person's data is another person's noise.",author:"K.C. Cole"},{author:"Damian Mingle",text:"Businesses should free themselves from dogma, especially when leveraging data to build a business. No one got very far living out other people\u2019s thinking"},{author:"Mike Schmoker",text:"Things get done only if the data we gather can inform and inspire those in a position to make difference."},{author:"Damian Duffy Mingle",text:"Aim for simplicity in Data Science. Real creativity won\u2019t make things more complex. Instead, it will simplify them."}];return Object(a.useEffect)((function(){!function(){var e=r[Math.floor(Math.random()*r.length)];o(e)}()}),[]),Object(I.jsxs)("blockquote",{children:[Object(I.jsx)("i",{className:t.faQuoteLeft}),Object(I.jsx)("p",{className:t.quoteText,children:c.text}),Object(I.jsx)("i",{className:t.faQuoteRight}),Object(I.jsxs)("footer",{className:t.quoteFooter,children:[" ","\u2014 ",Object(I.jsx)("span",{children:c.author})]})]})})),E=n(54),B=n(48),R=n(129),W=n(137),U=n(32),z=n(57),P=Object(a.createContext)({user:null,loading:!0,getIdToken:function(){var e=Object(z.a)(Object(U.a)().mark((function e(){return Object(U.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getIdTokenResult:function(){var e=Object(z.a)(Object(U.a)().mark((function e(){return Object(U.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),logout:function(){var e=Object(z.a)(Object(U.a)().mark((function e(){return Object(U.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),D=function(e){Object(R.a)(n,e);var t=Object(W.a)(n);function n(){var e;Object(E.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={user:null,loading:!0},e}return Object(B.a)(n,[{key:"componentDidMount",value:function(){var e=this;j.onAuthStateChanged((function(t){e.setState({user:t,loading:!1})}))}},{key:"handleAuthError",value:function(e){console.warn("Got auth error, signing out",e),j.signOut()}},{key:"logout",value:function(){var e=Object(z.a)(Object(U.a)().mark((function e(){return Object(U.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState((function(e){try{j.signOut().then((function(){localStorage.clear()}))}catch(t){}return{user:null,loading:!1}}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.loading?null:Object(I.jsx)(P.Provider,{value:{user:this.state.user,loading:this.state.loading,getIdToken:function(){var t=Object(z.a)(Object(U.a)().mark((function t(){return Object(U.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!j.currentUser){t.next=6;break}return t.next=3,j.currentUser.getIdToken().catch(e.handleAuthError);case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=null;case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getIdTokenResult:function(){var t=Object(z.a)(Object(U.a)().mark((function t(){return Object(U.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!j.currentUser){t.next=6;break}return t.next=3,j.currentUser.getIdTokenResult().catch(e.handleAuthError);case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=null;case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),logout:function(){var t=Object(z.a)(Object(U.a)().mark((function t(){return Object(U.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.logout();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},children:this.props.children})}}]),n}(a.Component),F=D,L=n(12),_="FETCH_ACCOUNTS_BEGIN",H="FETCH_ACCOUNTS_SUCCESS",G="FETCH_ACCOUNTS_FAILURE",M="FETCH_ACCOUNT_SUCCESS",V="FETCH_DOMAIN_CONFIG_SUCCESS",q="FETCH_REPORT_DATA_FEEDS_SUCCESS",J="FETCH_ORG_THEME_SUCCESS",X=function(e){return{type:J,payload:e}},K="FETCH_ACCOUNT_ACCESS_LOGS_BEGIN",Z="FETCH_ACCOUNT_ACCESS_LOGS_SUCCESS",Q="FETCH_ACCOUNT_ACCESS_LOGS_FAILURE";function Y(e){return function(t){var n={Authorization:"Bearer "+e};fetch("".concat("https://api.thereportapi.com","/config/domain-theme"),{headers:n}).then((function(e){return e.json()})).then((function(e){t({type:V,payload:e})})).catch()}}function $(e){return function(t){t({type:_});var n={Authorization:"Bearer "+e};fetch("".concat("https://api.thereportapi.com","/config"),{headers:n}).then((function(e){return e.json()})).then((function(e){var n=e.accounts,a=e.organisations;t({type:H,payload:{accounts:n,organisations:a}})})).catch((function(e){return t(function(e){return{type:G,payload:{error:e}}}(e))}))}}function ee(e,t){return function(n){var a={Authorization:"Bearer "+e};fetch("".concat("https://api.thereportapi.com","/config/accounts/").concat(t),{headers:a}).then((function(e){return e.json()})).then((function(e){n({type:M,payload:{id:t,account:e}})})).catch((function(e){return console.log("error",e)}))}}function te(e,t){return function(n){n({type:K});var a={Authorization:"Bearer "+e};fetch("".concat("https://api.thereportapi.com","/accounts/").concat(t,"/access-log"),{headers:a}).then((function(e){return e.json()})).then((function(e){console.log(e),n({type:Z,payload:e})})).catch((function(e){return n(function(e){return{type:Q,payload:{error:e}}}(e))}))}}function ne(e,t,n){return function(a){var i={Authorization:"Bearer "+e,Accept:"application/json","Content-Type":"application/json"};fetch("".concat("https://api.thereportapi.com","/reports/").concat(t),{method:"POST",headers:i,body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){console.log("result 1",e)}))}}function ae(e,t,n){return function(a){var i={Authorization:"Bearer "+e,Accept:"application/json"};fetch("".concat("https://api.thereportapi.com","/reports/").concat(t,"/preview/upload"),{method:"POST",headers:i,body:n}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}}var ie=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},logo:{paddingRight:24,maxHeight:40},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},small:{width:e.spacing(3),height:e.spacing(3)},loader:{marginTop:e.spacing(25),display:"flex",justifyContent:"center",width:"100%"}}}));function ce(){return new URLSearchParams(Object(s.f)().search)}var oe=Object(T.b)((function(e){return{domainConfig:e.accounts.domainConfig}}))((function(e){var t=e.domainConfig,n=Object(s.g)(),i=Object(T.c)(),c=ce().get("code"),o=Object(a.useState)(""),u=Object(l.a)(o,2),f=u[0],k=u[1],N=Object(a.useState)(""),E=Object(l.a)(N,2),B=E[0],R=E[1],W=Object(a.useState)(""),U=Object(l.a)(W,2),z=U[0],D=U[1],F=Object(a.useState)(!1),L=Object(l.a)(F,2),_=L[0],H=L[1],G=Object(a.useState)(!1),M=Object(l.a)(G,2),V=M[0],q=M[1],J=Object(a.useState)(ce().get("isSignup")),X=Object(l.a)(J,2),K=X[0],Z=X[1],Q=ie(),$=(Object(s.f)().state||{from:{pathname:"/"}}).from,ee=Object(a.useContext)(P).user;if(Object(a.useEffect)((function(){i(Y())}),[i]),_)return null;if(ee&&$)return n($,{replace:!0}),null;null!==t&&void 0!==t&&t.skipLogin&&null!==t&&void 0!==t&&t.defaultAccountId&&n("/view-account/".concat(t.defaultAccountId));return Object(I.jsxs)(x.a,{component:"main",maxWidth:"xs",children:[Object(I.jsx)(b.a,{}),_||null===t||void 0===t||!t.logoUrl?Object(I.jsx)("div",{className:Q.loader,children:Object(I.jsx)(w.a,{})}):Object(I.jsxs)("div",{className:Q.paper,children:[Object(I.jsx)(g.a,{style:{background:null===t||void 0===t?void 0:t.navColour},position:"fixed",children:Object(I.jsxs)(O.a,{children:[Object(I.jsx)("img",{src:null===t||void 0===t?void 0:t.logoUrl,alt:"logo",className:Q.logo}),Object(I.jsx)(m.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:Q.title})]})}),c?Object(I.jsx)(h.a,{value:c,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"code",label:"Invite Code",name:"email",autoFocus:!0}):"",Object(I.jsx)("br",{}),Object(I.jsx)(p.a,{onClick:function(){H(!0);var e=new d.a.auth.GoogleAuthProvider;e.setCustomParameters({prompt:"select_account"}),j.signInWithPopup(e).then((function(e){d.a.auth().currentUser.getIdToken().then((function(e){if(localStorage.setItem("app_user_token",e),H(!1),c){var t={Authorization:"Bearer "+e,Accept:"application/json","Content-Type":"application/json"};fetch("".concat("https://api.thereportapi.com","/users/accept-invitation"),{method:"POST",headers:t,body:JSON.stringify({code:c})}).then((function(){H(!1),n("/")}))}}))})).catch((function(e){console.log(e)}))},className:"googleBtn",fullWidth:!0,variant:"outlined",startIcon:Object(I.jsx)(v.a,{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",className:Q.small}),children:c||K?"Signup with Google":"Log in with Google"}),Object(I.jsx)("br",{}),Object(I.jsx)(m.a,{align:"center",component:"h2",variant:"h5",children:"- or -"}),Object(I.jsxs)("form",{onSubmit:function(e){return function(e){H(!0),e.preventDefault(),c?j.createUserWithEmailAndPassword(f,B).then((function(e){e.user&&(console.log(e.user),e.user.getIdToken().then((function(t){localStorage.setItem("app_user_token",e.user.uid);var a={Authorization:"Bearer "+t,Accept:"application/json","Content-Type":"application/json"};fetch("".concat("https://api.thereportapi.com","/users/accept-invitation"),{method:"POST",headers:a,body:JSON.stringify({code:c})}).then((function(){H(!1),n("/")}))})))})).catch((function(e){D(e.message),H(!1)})):j.signInWithEmailAndPassword(f,B).then((function(e){e.user&&(localStorage.setItem("app_user_token",e.user.uid),H(!1))})).catch((function(e){D(e.message),H(!1)}))}(e)},children:[Object(I.jsx)(h.a,{onChange:function(e){return k(e.target.value)},value:f,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(I.jsx)(h.a,{onChange:function(e){return R(e.target.value)},value:B,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"Password"}),K?Object(I.jsx)(S.a,{value:"end",control:Object(I.jsx)(C.a,{color:"primary"}),label:Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{children:"I accept the "}),Object(I.jsx)("a",{href:"http://www.thereportapi.com?open=terms-and-conditions",children:"terms of use"}),Object(I.jsx)("span",{children:" and "}),Object(I.jsx)("a",{href:"http://www.thereportapi.com?open=privacy-policy",children:"privacy policy"})]}),labelPlacement:"end",checked:V,onChange:function(e){var t=e.target;console.log(t),q(t.checked)}}):Object(I.jsx)("br",{}),K?Object(I.jsx)(p.a,{fullWidth:!0,variant:"contained",color:"primary",className:Q.submit,onClick:function(){j.createUserWithEmailAndPassword(f,B).then((function(e){e.user&&(localStorage.setItem("app_user_token",e.user.uid),H(!1))})).catch((function(e){D(e.message),H(!1)}))},disabled:!V,children:"Signup"}):Object(I.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:Q.submit,children:"Login"}),Object(I.jsx)(r.b,{to:"/resetpassword",style:{display:"flex",justifyContent:"end",padding:"10px"},children:"Forgot Password?"}),Object(I.jsx)(m.a,{component:"span",color:"secondary",children:z}),Object(I.jsx)(y.a,{}),t.allowSignup?Object(I.jsx)(p.a,{fullWidth:!0,color:"primary",className:Q.submit,onClick:function(){return Z(!K)},children:K?"Login Instead":"Signup Instead"}):""]}),Object(I.jsx)("br",{}),Object(I.jsx)(A,{})]})]})})),re=n(56),se=n(700),le=n(595),de=n(662),ue=n(665),je=n(134),he=n.n(je),pe=n(211),be=n.n(pe),ge=n(6),Oe=n(598),me=n(686),fe=n(687),xe=n(685),ve=n(688),ye=n(675),we=n(212),Se=n.n(we),Ce=n(351),ke=n.n(Ce),Te=n(147),Ie=n.n(Te),Ne=n(9),Ae=n(11),Ee=n(670),Be=n(674),Re=n(671),We=n(55),Ue=n(669),ze=n(125),Pe=n.n(ze),De=n(694),Fe=n(219),Le=n(696),_e=n(672),He=n(591),Ge=n(592),Me=n(601),Ve=n(673),qe=n(596),Je=n(668),Xe=n(667),Ke=n(664),Ze=n(666),Qe=n(335),Ye=n.n(Qe),$e=n(248),et=n.n($e),tt=n(336),nt=n.n(tt),at=function(e){Object(R.a)(n,e);var t=Object(W.a)(n);function n(){var e;Object(E.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={mainState:"initial",imageUploaded:0,selectedFile:void 0},e.handleUploadClick=function(t){var n=e.props,a=n.rid,i=n.dispatch,c=t.target.files[0],o=new FileReader,r=o.readAsDataURL(c),s=new FormData;s.append("file",c),o.onloadend=function(t){e.setState({selectedFile:[o.result]}),d.a.auth().currentUser.getIdToken().then((function(e){i(ae(e,a,s))}))},console.log(r),e.setState({mainState:"uploaded",selectedFile:t.target.files[0],imageUploaded:1})},e.imageResetHandler=function(t){e.setState({mainState:"initial",selectedFile:null,imageUploaded:0})},e}return Object(B.a)(n,[{key:"renderInitialState",value:function(){var e=this,t=this.props.classes;return Object(I.jsx)(i.a.Fragment,{children:Object(I.jsx)(Ke.a,{children:Object(I.jsxs)(ue.a,{container:!0,justify:"center",alignItems:"center",children:[Object(I.jsx)("input",{accept:"image/*",className:t.input,id:"contained-button-file",multiple:!0,type:"file",onChange:function(t){return e.handleUploadClick(t)}}),Object(I.jsx)("label",{htmlFor:"contained-button-file",children:Object(I.jsx)(Ze.a,{component:"span",className:t.button,children:Object(I.jsx)(nt.a,{})})})]})})})}},{key:"handleAvatarClick",value:function(e){var t=e.url.substring(e.url.lastIndexOf("/")+1);console.log(t),this.setState({mainState:"uploaded",imageUploaded:!0,selectedFile:e.url,fileReader:void 0,filename:t})}},{key:"renderUploadedState",value:function(){var e=this.props.classes;return Object(I.jsx)(i.a.Fragment,{children:Object(I.jsx)(Xe.a,{onClick:this.imageResetHandler,children:Object(I.jsx)("img",{alt:"",width:"100%",className:e.media,src:this.state.selectedFile})})})}},{key:"render",value:function(){var e=this.props.classes;return Object(I.jsx)(i.a.Fragment,{children:Object(I.jsxs)("div",{className:e.root,children:[Object(I.jsx)(Je.a,{children:"initial"===this.state.mainState&&this.renderInitialState()||"uploaded"===this.state.mainState&&this.renderUploadedState()}),Object(I.jsxs)("p",{className:e.imageInfo,children:["Upload New Image to show as the preview",Object(I.jsx)("br",{}),"Optimal size 720X420"]})]})})}}]),n}(i.a.Component),it=Object(T.b)()(Object(Ae.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:"100%",display:"flex",justifyContent:"start",alignItems:"center"},imageInfo:{margin:"0px 0px 0px 10px",fontWeight:"600"},icon:{margin:e.spacing(2)},iconHover:{margin:e.spacing(2),"&:hover":{color:Ye.a[800]}},cardHeader:{textalign:"center",align:"center",backgroundColor:"white"},input:{display:"none"},title:{color:et.a[800],fontWeight:"bold",fontFamily:"Montserrat",align:"center"},button:{color:et.a[900],margin:10},secondaryButton:{color:"gray",margin:10},typography:{margin:e.spacing(2),backgroundColor:"default"},searchRoot:{padding:"2px 4px",display:"flex",alignItems:"center",width:400},searchInput:{marginLeft:8,flex:1},searchIconButton:{padding:10},searchDivider:{width:1,height:28,margin:4}}}),{withTheme:!0})(at)),ct=["children","classes","onClose"],ot=["onChange"];function rt(e){var t=Object(s.h)().id,n=e.reportData,c=Object(a.useState)(""),o=Object(l.a)(c,2),r=o[0],u=o[1],j=i.a.useState("iframe"),b=Object(l.a)(j,2),g=(b[0],b[1],Object(We.b)({mode:"onChange"})),O=g.handleSubmit,f=g.control,x=g.setValue,v=g.formState.errors,y=g.watch,w=(g.getValues,i.a.useState(0)),S=Object(l.a)(w,2),C=S[0],T=S[1],N=Object(Ae.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,a=e.onClose,i=Object(Ne.a)(e,ct);return Object(I.jsxs)(Ue.a,Object(k.a)(Object(k.a)({disableTypography:!0,className:n.root},i),{},{children:[Object(I.jsx)(m.a,{variant:"h6",children:t}),a?Object(I.jsx)(de.a,{"aria-label":"close",className:n.closeButton,onClick:a,children:Object(I.jsx)(Pe.a,{})}):null]}))}));return Object(I.jsxs)(Ee.a,{open:e.openDialog,onClose:e.handleCloseDialog,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"md",children:[Object(I.jsx)(N,{onClose:e.handleCloseDialog,children:null!==n&&void 0!==n&&n.id?"Edit Report":"Add Report"}),r&&Object(I.jsx)(m.a,{variant:"h6",children:r}),Object(I.jsxs)("form",{onSubmit:O((function(a){console.log("onSubmit",a),a.accountId=t,a.section=a.sectionName,delete a.iframe,d.a.auth().currentUser.getIdToken().then((function(t){var i={Authorization:"Bearer "+t,Accept:"application/json","Content-Type":"application/json"},c="".concat("https://api.thereportapi.com","/reports/");null!==n&&void 0!==n&&n.id&&(c+=n.id),fetch(c,{method:"POST",headers:i,body:JSON.stringify(a)}).then((function(){e.handleCloseDialog(),e.setUpdateAccount(!0)})).catch((function(e){console.log(e),u(e.messages[0])}))}))})),children:[Object(I.jsxs)(Re.a,{children:[Object(I.jsx)(De.a,{mb:2,children:Object(I.jsx)(Fe.a,{square:!0,children:Object(I.jsxs)(Le.a,{value:C,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){T(t)},children:[Object(I.jsx)(_e.a,{label:"Basic"}),Object(I.jsx)(_e.a,{label:"Preview Image"})]})})}),0==C?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(He.a,{fullWidth:!0,style:{paddingBottom:10},error:!!v.type,children:[Object(I.jsx)(Ge.a,{children:"Type"}),Object(I.jsx)(We.a,{as:Object(I.jsxs)(Me.a,{id:"type",name:null!==n&&void 0!==n&&n.id?n.id:"",children:[Object(I.jsx)(Ve.a,{value:"iframe",children:"Embedded iframe"}),Object(I.jsx)(Ve.a,{value:"openapi-spec",children:"OpenAPI spec"}),Object(I.jsx)(Ve.a,{value:"link",children:"External Link"}),Object(I.jsx)(Ve.a,{value:"markdown",children:"Markdown"})]}),name:"type",defaultValue:null===n||void 0===n?void 0:n.type,control:f}),Object(I.jsx)(qe.a,{children:v.type&&v.type.message})]}),Object(I.jsx)(He.a,{fullWidth:!0,style:{paddingBottom:10},children:Object(I.jsx)(We.a,{name:"name",as:Object(I.jsx)(h.a,{id:"name",helperText:v.name?v.name.message:null,label:"Name",name:"name",fullWidth:!0,error:!!v.name}),defaultValue:null===n||void 0===n?void 0:n.name,control:f,rules:{required:"Required",minLength:{value:1,message:"The minimum length should be 1"},maxLength:{value:255,message:"The maximum length can't exceed be 255"}}})}),Object(I.jsx)(He.a,{fullWidth:!0,style:{paddingBottom:10},children:Object(I.jsx)(We.a,{name:"description",as:Object(I.jsx)(h.a,{id:"description",helperText:v.description?v.description.message:null,label:"Description",name:"description",multiline:!0,rows:3,fullWidth:!0,error:!!v.description}),defaultValue:null===n||void 0===n?void 0:n.description,control:f,rules:{required:"Required"}})}),Object(I.jsxs)(He.a,{fullWidth:!0,style:{paddingBottom:10},error:!!v.sectionName,children:[Object(I.jsx)(Ge.a,{children:"Section"}),Object(I.jsx)(We.a,{as:Object(I.jsxs)(Me.a,{error:!!v.name,children:[Object(I.jsx)(Ve.a,{value:"Pages",children:"Pages"}),Object(I.jsx)(Ve.a,{value:"Reports",children:"Reports"}),Object(I.jsx)(Ve.a,{value:"Scheduled",children:"Scheduled"}),Object(I.jsx)(Ve.a,{value:"Design Docs",children:"Design Docs"}),Object(I.jsx)(Ve.a,{value:"Tools",children:"Tools"}),Object(I.jsx)(Ve.a,{value:"Customer Success",children:"Customer Success"}),Object(I.jsx)(Ve.a,{value:"API Documentation",children:"API Documentation"}),Object(I.jsx)(Ve.a,{value:"API Testing",children:"API Testing"}),Object(I.jsx)(Ve.a,{value:"API Settings",children:"API Settings"}),Object(I.jsx)(Ve.a,{value:"API Monitoring",children:"API Monitoring"})]}),name:"sectionName",defaultValue:null===n||void 0===n?void 0:n.sectionName,rules:{required:"Required"},control:f}),Object(I.jsx)(qe.a,{children:v.sectionName&&v.sectionName.message})]}),"markdown"===y("type")||void 0===y("type")&&"markdown"===(null===n||void 0===n?void 0:n.type)?"":Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(He.a,{fullWidth:!0,style:{paddingBottom:10},children:Object(I.jsx)(We.a,{render:function(e){var t=e.onChange,n=Object(Ne.a)(e,ot);return Object(I.jsx)(h.a,Object(k.a)(Object(k.a)({},n),{},{label:"Iframe Embed code [optional]",fullWidth:!0,onChange:function(e){t(e),function(e){var t=function(e){var t=/<iframe.*?src="(.*?)"/.exec(e);return t?t.length>1?t[1]:t[0]:""}(e);t&&x("url",t)}(e.target.value)}}))},name:"iframe",defaultValue:null===n||void 0===n?void 0:n.iframe,control:f})}),Object(I.jsx)(He.a,{fullWidth:!0,style:{paddingBottom:10},children:Object(I.jsx)(We.a,{as:Object(I.jsx)(h.a,{id:"url",helperText:v.url?v.url.message:null,label:"Url",name:"url",fullWidth:!0,error:!!v.url}),name:"url",defaultValue:null===n||void 0===n?void 0:n.url,rules:{pattern:{value:/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/g,message:"Invalid URL"}},control:f})}),Object(I.jsx)(He.a,{fullWidth:!0,style:{paddingBottom:10},children:Object(I.jsx)(We.a,{as:Object(I.jsx)(h.a,{id:"width",helperText:v.width?v.width.message:null,label:"Width",name:"width",fullWidth:!0,error:!!v.width}),name:"width",defaultValue:null===n||void 0===n?void 0:n.width,rules:{min:{value:1,message:"The minimum value should be 1"},max:{value:5e3,message:"The maximum value can't exceed be 5000"}},control:f})}),Object(I.jsx)(He.a,{fullWidth:!0,style:{paddingBottom:10},children:Object(I.jsx)(We.a,{as:Object(I.jsx)(h.a,{id:"height",label:"Height",helperText:v.height?v.height.message:null,name:"height",fullWidth:!0,error:!!v.height}),name:"height",defaultValue:null===n||void 0===n?void 0:n.height,rules:{min:{value:1,message:"The minimum value should be 1"},max:{value:5e3,message:"The maximum value can't exceed be 5000"}},control:f})})]})]}):Object(I.jsx)(ue.a,{children:Object(I.jsx)(it,{style:{background:"black !important"},rid:null===n||void 0===n?void 0:n.id})})]}),Object(I.jsxs)(Be.a,{children:[!(null===n||void 0===n||!n.id)&&0==C&&Object(I.jsx)(p.a,{variant:"contained",style:{marginRight:"auto"},onClick:e.deleteReport,color:"secondary",children:"Delete"}),Object(I.jsx)(p.a,{variant:"contained",onClick:e.handleCloseDialog,children:"Cancel"}),Object(I.jsx)(p.a,{variant:"contained",type:"submit",value:"submit",color:"primary",children:"Save"})]})]})]})}var st=n(163),lt=n.n(st),dt=n(659),ut=n(676),jt=n(371),ht=n(599),pt=n(334),bt=n(160),gt=n.n(bt),Ot=n(341),mt=n.n(Ot),ft=n(374),xt=n(338),vt=n.n(xt),yt=n(339),wt=n.n(yt),St=n(337),Ct="FETCH_USERS_BEGIN",kt="FETCH_USERS_SUCCESS",Tt="FETCH_USERS_INVITATION_BEGIN",It="FETCH_USER_INVITATION_SUCCESS",Nt="REMOVE_USER_SUCCESS",At="FETCH_ORGANISATION_ACCOUNTS_SUCCESS",Et="SET_LOADING",Bt="FETCH_EMAIL_TEMPLATES_SUCCESS",Rt="EDIT_EMAIL_TEMPLATE_SUCCESS",Wt="EDIT_EMAIL_TEMPLATE_FAILURE",Ut="RESET_EMAIL_TEMPLATES",zt=function(e){return{type:Et,value:e}},Pt=function(e){return{type:Wt,payload:e}};function Dt(e,t,n){return function(a){a({type:Ct});var i="".concat("https://api.thereportapi.com","/users/?organisationId=");t&&(i="".concat("https://api.thereportapi.com","/users/?accountId=")),fetch(i+n,{headers:{Authorization:"Bearer "+e}}).then((function(e){return e.json()})).then((function(e){e.length&&a({type:kt,payload:e})}))}}function Ft(e,t){return function(n){n({type:Tt,payload:{}});var a="".concat("https://api.thereportapi.com","/users/").concat(t,"/invitation");fetch(a,{headers:{Authorization:"Bearer "+e}}).then((function(e){return e.json()})).then((function(e){n({type:It,payload:e})}))}}function Lt(e,t,n,a){return function(i){var c={Authorization:"Bearer "+e},o="".concat("https://api.thereportapi.com","/organisations/").concat(n,"/users/");t&&(o="".concat("https://api.thereportapi.com","/accounts/").concat(n,"/users/")),fetch(o+a,{method:"DELETE",headers:c}).then((function(e){return e.json()})).then((function(e){e&&i({type:Nt,payload:a})}))}}function _t(e,t,n,a){return function(i){i((function(e){return zt(!0)}));var c={Authorization:"Bearer "+e,Accept:"application/json","Content-Type":"application/json"},o="".concat("https://api.thereportapi.com","/organisations/").concat(n,"/invite/");t&&(o="".concat("https://api.thereportapi.com","/accounts/").concat(n,"/invite/")),(Object(St.isArray)(a)?Promise.all(a.map((function(e){return fetch(o,{method:"POST",headers:c,body:JSON.stringify({email:e})})}))):fetch(o,{method:"POST",headers:c,body:JSON.stringify({email:a})})).then((function(){i(Dt(e,t,n))})).finally((function(){return i((function(e){return zt(!1)}))}))}}function Ht(e,t){return function(n){var a={Authorization:"Bearer "+e};fetch("".concat("https://api.thereportapi.com","/accounts/?organisationId=")+t,{headers:a}).then((function(e){return e.json()})).then((function(e){e.length&&n({type:At,payload:e})}))}}function Gt(e,t){return function(n){var a={Authorization:"Bearer "+e};fetch("".concat("https://api.thereportapi.com","/organisations/").concat(t,"/email-templates"),{headers:a}).then((function(e){return e.json()})).then((function(e){e.length&&n({type:Bt,payload:e})}))}}function Mt(e,t,n){return function(a){a(zt(!0)),a((function(e){return function(e){return{type:Ut,value:e}}(e)}));var i={Authorization:"Bearer "+e,Accept:"application/json","Content-Type":"application/json"};fetch("".concat("https://api.thereportapi.com","/organisations/").concat(t,"/email-templates/").concat(n.type),{method:"POST",headers:i,body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(n){n.error?a(Pt({error:n.message[0]})):(a({type:Rt}),a(Gt(e,t)))})).catch((function(e){return a(Pt(e))})).finally((function(){return a(zt(!1))}))}}var Vt=Object(f.a)({shareBox:{backgroundColor:"white",display:"flex",flexDirection:"column",width:"600px",padding:"20px",borderRadius:"10px"},textInputField:{width:"100%",overflow:"both"},textAreaField:{width:"100%",overflow:"both"},dropDown:{margin:"0px 10px",display:"flex",alignItems:"center",height:"40px"},shareLink:{margin:"0px 5px"},fieldWrapper:{padding:"10px",borderBottom:"#e8e8e8 .1px solid",height:"auto"},boardLink:{color:"white",backgroundColor:"#4066F8",textTransform:"none",margin:"5px 5px"},fieldInfoWrapper:{width:"100%",borderRadius:"5px",border:".1px solid",padding:"10px",display:"flex",justifyContent:"start",alignItems:"start"},cancelBtn:{color:"black",textTransform:"none",margin:"5px 5px"},tagDiv:{display:"flex",alignItems:"center",height:" 24px",margin:" 2px",lineIeight:"22px",backgroundColor:"#fafafa",border:"1px solid #e8e8e8",borderRadius:"2px",boxSizing:"content-box",padding:" 0 4px 0 10px",outline:0,overflow:" hidden"," &:focus":{borderColor:"#40a9ff",backgroundColor:"#e6f7ff"}},emailValidation:{color:"red",padding:"5px"}});function qt(e){var t=e.account,n=e.report,a=e.isSettings,c=void 0===a||a,o=Vt(),u=i.a.useState("noaccess"),j=Object(l.a)(u,2),b=j[0],g=j[1],O=i.a.useState(!1),m=Object(l.a)(O,2),f=m[0],x=m[1],v=i.a.useState([]),y=Object(l.a)(v,2),w=y[0],S=y[1],C=i.a.useState(!1),N=Object(l.a)(C,2),A=N[0],E=N[1],B=Object(T.c)(),R=d.a.auth().currentUser,W=Object(s.h)().id,U=[],z=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return w.forEach((function(e){z.test(e)||U.push(e)})),Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(De.a,{children:Object(I.jsxs)(De.a,{className:o.shareBox,children:[Object(I.jsx)(De.a,{className:o.fieldWrapper,children:U.length?Object(I.jsxs)("div",{className:o.emailValidation,children:[U," is not valid Email"]}):""}),w.length?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(De.a,{className:o.fieldWrapper,children:Object(I.jsxs)(De.a,{style:{borderColor:"rgb(69,96,245)",backgroundColor:"rgb(69,96,245,.2)"},className:o.fieldInfoWrapper,children:[Object(I.jsx)(wt.a,{style:{marginRight:"5px",fill:"rgb(69,96,245)"}}),Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{style:{color:"darkblue",margin:"0px 2px"},children:w}),"will be added to account and will be able to access the report"]})]})}),Object(I.jsx)(De.a,{className:o.fieldWrapper,children:Object(I.jsx)(h.a,{type:"email",multiline:!0,rows:7,className:o.textAreaField,variant:"outlined",placeholder:"Add custom message(Optional)"})}),Object(I.jsxs)(De.a,{children:[Object(I.jsx)(p.a,{className:o.boardLink,disabled:U.length||w.length>5,onClick:function(){R&&w&&d.a.auth().currentUser.getIdToken().then((function(e){B(_t(e,c,W,w)),S([])}))},children:"Share invitation"}),Object(I.jsx)(p.a,{onClick:function(){S([])},className:o.cancelBtn,children:"Cancel"})]})]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(De.a,{className:o.fieldWrapper,children:Object(I.jsxs)("div",{className:o.dropDown,children:[Object(I.jsx)(vt.a,{style:{marginRight:"5px",fill:"#082746"}}),"Anyone with the link",Object(I.jsxs)(Me.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:A,onClose:function(){E(!1)},onOpen:function(){E(!0)},value:f?"canview":b,onChange:function(e){var t;x("canview"===e.target.value),g(e.target.value),t="canview"===e.target.value,R&&(console.log("make report call",t),d.a.auth().currentUser.getIdToken().then((function(e){B(ne(e,n.id,Object(k.a)(Object(k.a)({},n),{},{public:t})))})))},className:o.dropDown,variant:"outlined",children:[Object(I.jsx)(Ve.a,{value:"canview",children:"Can view"}),Object(I.jsx)(Ve.a,{value:"noaccess",children:"No access"})]}),"canview"===b&&Object(I.jsx)(p.a,{onClick:function(){var e=window.location.href;console.log(e),navigator.clipboard.writeText("".concat(e))},className:o.boardLink,children:"Copy Report Link"})]})}),Object(I.jsx)(De.a,{className:o.fieldWrapper,children:Object(I.jsxs)("div",{className:o.dropDown,children:["See who it's currently shared with.",Object(I.jsx)(r.b,{className:o.shareLink,to:"/account/".concat(t.id,"/settings"),children:"Sharing Settings"})]})})]})]})})})}var Jt=Object(f.a)((function(e){return{root:{display:"flex"},logo:{paddingRight:24,maxHeight:40,cursor:"pointer"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},formControl:{margin:e.spacing(1),minWidth:120},setColor:function(e){return{color:e.colour1}},menuButton:function(t){return{marginRight:e.spacing(2),color:t.colour1}},hide:{display:"none"},title:function(e){return{fontWeight:600,color:e.colour1,flexGrow:1,cursor:"pointer"}},loader:{marginTop:e.spacing(25),display:"flex",justifyContent:"center",width:"100%"},button:{margin:e.spacing(1),position:"absolute",bottom:"20px",left:"20%",alignSelf:"center"},ShareBtn:{textTransform:"none",color:"white",backgroundColor:"#3F62FF",height:"35px",margin:"0px 10px 0px 10px"},shareModal:{display:"flex",justifyContent:"center",alignItems:"center"}}})),Xt=function(e){var t,n,c,o,d=e.accounts,u=e.account,j=e.organisations,h=e.open,b=e.isDashboard,f=e.handleDrawerOpen,x=e.user,w=e.report,S=(e.reportData,e.setEmptyReport),C=(e.setSelectedReport,e.settingOption),T=e.AccountOption,N=e.AvtarOption;console.log("user",x),console.log("account ::",u);var A=Jt({colour1:(null===u||void 0===u||null===(t=u.theme)||void 0===t?void 0:t.colour1)||"#ffffff"}),E=Object(a.useContext)(P).logout,B=Object(a.useState)(!1),R=Object(l.a)(B,2),W=R[0],U=R[1],z=Object(a.useState)(!1),D=Object(l.a)(z,2),F=D[0],_=D[1],H=i.a.useRef(null),G=Object(s.g)(),M=function(){E().then((function(){G("/login")}))},V=function(e){H.current&&H.current.contains(e.target)||U(!1)},q=Object(s.h)().id,J=!0===(null===u||void 0===u||null===(n=u.theme)||void 0===n?void 0:n.hideTitle)?"":null===u||void 0===u?void 0:u.name;return b||(J+=" - Settings"),Object(I.jsx)(g.a,{style:{background:null===u||void 0===u||null===(c=u.theme)||void 0===c?void 0:c.navColour},position:"fixed",className:Object(ge.a)(A.appBar,Object(L.a)({},A.appBarShift,h)),children:Object(I.jsxs)(O.a,{children:[Object(I.jsx)(de.a,{color:"inherit","aria-label":"open drawer",onClick:f,edge:"start",className:Object(ge.a)(A.menuButton,h&&A.hide),children:Object(I.jsx)(lt.a,{})}),Object(I.jsx)("img",{src:null===u||void 0===u||null===(o=u.theme)||void 0===o?void 0:o.logoUrl,alt:"logo",className:A.logo,onClick:function(){return S()}}),Object(I.jsx)(m.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:A.title,onClick:function(){return S()},children:J}),w&&Object(I.jsxs)(p.a,{onClick:function(){return _(!0)},className:A.ShareBtn,children:[Object(I.jsxs)("svg",Object(k.a)(Object(k.a)({style:{fill:"white",marginRight:"5px"},xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 100 100",width:20,height:20},e),{},{children:[Object(I.jsx)("title",{children:"Essential Icon Set Outline"}),Object(I.jsx)("path",{d:"M36.297 31.891A13.662 13.662 0 1049.96 18.23 13.679 13.679 0 0036.297 31.89zm24.029 0A10.366 10.366 0 1149.96 21.525 10.366 10.366 0 0160.326 31.89z"}),Object(I.jsx)("path",{d:"M77.844 46.954a19.777 19.777 0 00-12.937 4.813 25.067 25.067 0 00-29.895 0A19.875 19.875 0 002.166 66.863v4.812a1.648 1.648 0 001.648 1.648h20.947v4.944a1.648 1.648 0 001.648 1.648H73.51a1.648 1.648 0 001.648-1.648v-4.944h20.947a1.648 1.648 0 001.648-1.648v-4.812a19.925 19.925 0 00-19.909-19.909zM5.462 66.863a16.612 16.612 0 0126.995-12.97l-.33.362-.642.676c-.363.395-.725.807-1.071 1.22l-.577.741c-.346.445-.66.906-.956 1.368-.297.461-.33.478-.478.725-.33.56-.66 1.154-.956 1.747 0 .148-.165.297-.23.445a28.776 28.776 0 00-.973 2.324c0 .197-.115.395-.181.593-.198.593-.38 1.203-.528 1.813-.082.28-.131.577-.197.857a18.096 18.096 0 00-.28 1.648c-.066.56-.083.626-.116.94-.033.312-.082.46-.099.691H5.463zm22.595 9.707v-4.648a1.088 1.088 0 000-.23A21.886 21.886 0 0163.902 55.21c.527.461 1.038.923 1.516 1.4a21.721 21.721 0 016.411 15.163v4.796zm66.4-6.593H75.076V69.5c0-.165-.083-.676-.116-1.022s-.197-.808-.28-1.302c-.082-.495-.132-.676-.214-1.006-.082-.33-.214-.84-.33-1.269l-.296-.972a36.771 36.771 0 00-.462-1.22c-.165-.411-.247-.626-.379-.922-.132-.297-.379-.808-.577-1.203-.197-.396-.28-.594-.445-.874-.164-.28-.478-.79-.725-1.186-.247-.396-.313-.528-.494-.775s-.61-.84-.94-1.253c-.33-.412-.296-.412-.461-.61-.494-.593-1.022-1.186-1.648-1.746l-.247-.149a16.612 16.612 0 0126.995 12.872z"}),Object(I.jsx)("path",{d:"M77.844 24.08a10.976 10.976 0 1010.96 10.959 10.96 10.96 0 00-10.96-10.96zm0 18.639a7.68 7.68 0 117.664-7.68 7.68 7.68 0 01-7.664 7.68zM11.115 35.039a10.96 10.96 0 1010.96-10.96 10.976 10.976 0 00-10.96 10.96zm18.623 0a7.663 7.663 0 11-7.663-7.663 7.68 7.68 0 017.663 7.663z"})]})),"Share"]}),Object(I.jsx)(ft.a,{className:A.shareModal,onClose:function(){_(!1)},open:F,children:Object(I.jsx)(qt,{report:w,account:u,isSettings:!0})}),T?Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(He.a,{className:A.formControl,children:[Object(I.jsx)(Ge.a,{className:Object(ge.a)(A.setColor),shrink:!0,children:"Account"}),Object(I.jsx)(pt.a,{className:Object(ge.a)(A.setColor),value:q,onChange:function(e){G("/account/".concat(e.target.value))},inputProps:{name:"selected-account",id:"selected-account-helper"},children:d&&d.map((function(e,t){return Object(I.jsx)("option",{style:{color:"black"},value:e.id,children:e.name},t)}))})]})}):"",q&&b?Object(I.jsx)(ye.a,{title:"Account Settings / Invite Users",children:Object(I.jsx)(r.b,{to:"/account/".concat(q,"/settings"),children:C?Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(gt.a,{className:Object(ge.a)(A.menuButton)})}):""})}):Object(I.jsx)(ye.a,{title:"Back to Reports Dashboard",children:Object(I.jsx)(r.b,{to:window.location.href.indexOf("account")>-1?"/account/".concat(q):"/",children:C?Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(mt.a,{className:Object(ge.a)(A.menuButton)})}):""})}),N?Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(ye.a,{title:"".concat(null===x||void 0===x?void 0:x.email),children:Object(I.jsx)(p.a,{children:Object(I.jsx)(v.a,{style:{color:"white"},ref:H,"aria-haspopup":"true","aria-controls":W?"menu-list-grow":void 0,onClick:function(){U((function(e){return!e}))},children:null!==x&&void 0!==x&&x.displayName?null===x||void 0===x?void 0:x.displayName.substr(0,1):null})})})}):"",Object(I.jsx)(ht.a,{open:W,anchorEl:H.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(I.jsx)(jt.a,Object(k.a)(Object(k.a)({},t),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(I.jsx)(Fe.a,{children:Object(I.jsx)(ut.a,{onClickAway:V,children:Object(I.jsxs)(dt.a,{autoFocusItem:W,id:"menu-list-grow",children:[j&&j.map((function(e,t){return Object(I.jsxs)(De.a,{children:[Object(I.jsx)(r.b,{style:{textDecoration:"none",color:"unset"},to:"/organisation/".concat(e.id),children:Object(I.jsxs)(Ve.a,{selected:q===e.id,onClick:function(e){V(e)},children:["Team: ",e.name]})}),Object(I.jsx)(De.a,{my:1,children:Object(I.jsx)(y.a,{})})]},t)})),Object(I.jsx)(Ve.a,{onClick:M,children:"Logout"})]})})})}))}})]})})},Kt=n(678),Zt=n(677),Qt=Object(f.a)((function(e){return{root:{flexGrow:1},card:{height:320,width:350},control:{padding:e.spacing(2)}}}));function Yt(e){var t,n=Qt(),a=e.account,i=e.handleSelectReport;return Object(I.jsx)(ue.a,{container:!0,className:n.root,spacing:2,children:Object(I.jsx)(ue.a,{item:!0,xs:12,children:(null===a||void 0===a?void 0:a.sections)&&(null===a||void 0===a||null===(t=a.sections)||void 0===t?void 0:t.map((function(t,a){return Object(I.jsx)(ue.a,{container:!0,spacing:2,children:((null===t||void 0===t?void 0:t.reports)||[]).map((function(t,a){return Object(I.jsx)(ue.a,{item:!0,children:Object(I.jsxs)(Je.a,{className:n.card,children:[Object(I.jsxs)(Xe.a,{children:[Object(I.jsx)(Zt.a,{component:"img",alt:t.name,height:"200",image:t.previewUrl,title:t.name,onClick:function(){return i(t)}}),Object(I.jsx)(Ke.a,{children:Object(I.jsx)(m.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.name})})]}),Object(I.jsx)(Kt.a,{children:"link"===t.type?Object(I.jsx)(p.a,{component:"a",href:t.url.replace(/^(?:(.*:)?\/\/)?(.*)/i,(function(e,t,n){return t?e:"http://".concat(n)})),target:"_blank",size:"small",color:"primary",children:"VIEW"}):Object(I.jsx)(p.a,{size:"small",color:"primary",onClick:function(){return e.handleSelectReport(t)},children:"VIEW"})})]})},a)}))},a)})))})})}var $t=n(367),en=n(342),tn=Object($t.a)({app:"TheReportAPI Prod",plugins:[Object(en.a)({writeKey:"".concat("Lc8rIKAmloJX8pHOcBGPbF6ugKl221Xg")})]}),nn=function(e,t){tn.track("Report Viewed",{uid:e,reportId:t})},an=function(e,t){tn.track("Account Viewed",{uid:e,accountId:t})},cn=n(164),on=n.n(cn),rn=n(165),sn=n.n(rn),ln=n(680),dn=n(684),un=n(683),jn=n(679),hn=n(681),pn=n(682),bn=n(180),gn=n(209),On=Object(f.a)({openapiDoc:{position:"relative",backgroundColor:"white"},resizable:{overflow:"hidden",position:"relative",backgroundColor:"white"},hideFooter:{position:"absolute",width:"100%",height:"26px",background:"#fafafa",bottom:0},MarkDownButtons:{margin:"0% 0% 1.5% 68%"},SaveButton:{margin:"0 0 0 3%"}}),mn=function(e){var t=e.report,n=e.account,a=e.onResize,c=(e.open,i.a.useState(!0)),o=Object(l.a)(c,2),r=(o[0],o[1],i.a.useState({width:t.width,height:t.height})),s=Object(l.a)(r,2),u=s[0],j=(s[1],i.a.useState(!1)),h=Object(l.a)(j,2),b=h[0],g=h[1],O=i.a.useState({width:window.innerWidth}),m=Object(l.a)(O,2);m[0],m[1];console.log("report",t);var f=i.a.useState({margin:"0 0 1.3% 78%"}),x=Object(l.a)(f,2),v=x[0],y=x[1],w=On(),S=d.a.auth().currentUser,C=Object(T.c)(),N=i.a.useState(t.body),A=Object(l.a)(N,2),E=A[0],B=A[1],R=function(){S&&d.a.auth().currentUser.getIdToken().then((function(e){C(ne(e,t.id,Object(k.a)(Object(k.a)({},t),{},{body:E})))})),g(!1),y({margin:"0 0 1.3% 78%"})},W=function(){g(!1),y({margin:"0 0 1.3% 78%"})};return i.a.useEffect((function(){u.width&&u.height&&a&&a(u)}),[u]),i.a.useEffect((function(){B(t.body)}),[t.body]),console.log("report",n,t.type),Object(I.jsxs)(I.Fragment,{children:[b?Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:w.MarkDownButtons,children:[Object(I.jsx)(p.a,{variant:"contained",color:"primary",onClick:W,children:"Cancel"}),Object(I.jsx)(p.a,{variant:"contained",className:w.SaveButton,color:"primary",onClick:function(){return R()},children:"Save Changes"})]})}):"",null!==n&&void 0!==n&&n.editor&&"markdown"===t.type?Object(I.jsx)(p.a,{color:"primary",variant:"contained",disabled:b,style:v,onClick:function(){y({display:"none"}),g(!0)},children:"Edit Page"}):"","markdown"===t.type?Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{"data-color-mode":"light",className:w.resizable,id:"iframe-container",style:{width:"".concat(t.width,"/").concat(window.innerWidth," * 100"),height:"".concat(t.height,"px")},children:[Object(I.jsx)("div",{className:"wmde-markdown-var",children:" "}),b?Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(bn.a,{height:600,value:E,onChange:function(e){B(e)}})}):Object(I.jsx)(bn.a.Markdown,{style:{padding:15},source:E,linkTarget:"_blank"})]})}):Object(I.jsxs)("div",{className:"openapi-spec"===t.type?w.openapiDoc:w.resizable,id:"iframe-container",style:{width:"".concat(t.width,"/").concat(window.innerWidth," * 100"),height:"openapi-spec"===t.type?"90vh":"".concat(t.height,"px")},children:["openapi-spec"===t.type?Object(I.jsx)(gn.RedocStandalone,{specUrl:t.url}):Object(I.jsx)("iframe",{sandbox:"allow-scripts allow-forms allow-popups allow-same-origin allow-popups-to-escape-sandbox allow-modals allow-presentation allow-storage-access-by-user-activation allow-downloads",title:t.name,src:t.url,width:"100%",height:"100%",frameBorder:"0",scrolling:"no",style:{overflow:"hidden"}}),Object(I.jsx)("div",{className:w.hideFooter})]})]})},fn=["report","account","handleOpenDialog","reportTab","open"],xn=Object(f.a)((function(e){return{root:{display:"flex"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(k.a)(Object(k.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(0),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},loader:{marginTop:e.spacing(25),display:"flex",justifyContent:"center",width:"100%"},wrapper:{position:"relative",zIndex:1,display:"inline-block"},hideFooter:{position:"absolute",width:"100%",height:"26px",background:"#fafafa",bottom:0},add_button:{left:0,right:0,bottom:0,position:"sticky",zIndex:1,width:"100%",background:"#fff"},button:{margin:e.spacing(1),left:"17%"},hidden:{display:"none"},resizable:{resize:"both",overflow:"hidden",position:"relative"}}})),vn=Object(T.b)((function(e,t){return Object(k.a)(Object(k.a)({},t),{},{reports:e.accounts.reports})}))((function(e){var t=e.report,n=e.account,a=e.handleOpenDialog,i=e.reportTab,c=e.open,o=Object(Ne.a)(e,fn);console.log("Report component",t,n);xn();return Object(I.jsx)("div",{id:"report-outer",children:t?Object(I.jsx)("div",{children:"0"==i?Object(I.jsx)(mn,Object(k.a)({account:n,report:t,open:c,onResize:function(e){a&&a(Object(k.a)(Object(k.a)({},t),e))}},o)):Object(I.jsx)(jn.a,{component:Fe.a,children:Object(I.jsxs)(ln.a,{"aria-label":"simple table",children:[Object(I.jsx)(hn.a,{children:Object(I.jsxs)(pn.a,{children:[Object(I.jsx)(un.a,{children:Object(I.jsx)(De.a,{fontWeight:"fontWeightBold",children:"Data Feed Name"})}),Object(I.jsx)(un.a,{align:"right",children:Object(I.jsx)(De.a,{fontWeight:"fontWeightBold",children:"Download"})}),Object(I.jsx)(un.a,{align:"right",children:Object(I.jsx)(De.a,{fontWeight:"fontWeightBold",children:"Feed URL"})})]})}),Object(I.jsx)(dn.a,{children:t&&t.map((function(e,t){return Object(I.jsxs)(pn.a,{children:[Object(I.jsx)(un.a,{component:"th",scope:"row",children:e.name}),Object(I.jsx)(un.a,{align:"right",children:Object(I.jsx)(de.a,{"aria-label":"download",href:"".concat(e.url,".csv"),download:"".concat(e.url,".csv"),size:"medium",children:Object(I.jsx)(on.a,{fontSize:"inherit"})})}),Object(I.jsx)(un.a,{align:"right",children:Object(I.jsx)(de.a,{component:"a",target:"_blank",href:e.url,"aria-label":"Feed",size:"medium",children:Object(I.jsx)(sn.a,{fontSize:"inherit"})})})]},t)}))})]})})}):""})}));var yn=function(e){var t,n=e.account;e.handleSelectReport;return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(jn.a,{component:Fe.a,children:Object(I.jsxs)(ln.a,{"aria-label":"simple table",children:[Object(I.jsx)(hn.a,{children:Object(I.jsxs)(pn.a,{children:[Object(I.jsx)(un.a,{}),Object(I.jsx)(un.a,{}),Object(I.jsx)(un.a,{align:"right"})]})}),Object(I.jsx)(dn.a,{children:(null===n||void 0===n?void 0:n.sections)&&(null===n||void 0===n||null===(t=n.sections)||void 0===t?void 0:t.map((function(t,n){return((null===t||void 0===t?void 0:t.reports)||[]).map((function(t,n){return Object(I.jsxs)(pn.a,{children:[Object(I.jsx)(un.a,{component:"th",scope:"row",children:Object(I.jsx)("strong",{children:t.name})}),Object(I.jsx)(un.a,{component:"th",scope:"row",children:Object(I.jsx)("i",{children:(a=t.description||"",i=100,a.length>i?a.substr(0,i-1)+"...":a)})}),Object(I.jsx)(un.a,{align:"right",children:"link"===t.type?Object(I.jsx)(p.a,{component:"a",href:t.url.replace(/^(?:(.*:)?\/\/)?(.*)/i,(function(e,t,n){return t?e:"http://".concat(n)})),target:"_blank",size:"small",color:"primary",variant:"contained",children:"VIEW"}):Object(I.jsx)(p.a,{size:"small",color:"primary",variant:"contained",onClick:function(){return e.handleSelectReport(t)},children:"VIEW"})})]},n);var a,i}))})))})]})})})},wn=Object(f.a)((function(e){return{root:{display:"flex",margin:"41px 0 0 12px"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(k.a)(Object(k.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(0,0),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},container:{paddingTop:e.spacing(4,0),paddingBottom:e.spacing(4,0)},loader:{marginTop:e.spacing(25,0),display:"flex",justifyContent:"center",width:"100%"},wrapper:{position:"relative",zIndex:1,display:"inline-block"},hideFooter:{position:"absolute",width:"100%",height:"26px",background:"#fafafa",bottom:0},add_button:{left:0,right:0,bottom:0,position:"sticky",zIndex:1,width:"100%",background:"#fff"},button:{margin:e.spacing(1,0),left:"17%"},hidden:{display:"none"},resizable:{resize:"both",overflow:"auto",position:"relative"},buttongroup:{margin:"0 0 1.3% 78%"},buttonoption:{marginRight:"6px"},listItemText:{fontSize:"1em"}}})),Sn=Object(T.b)((function(e){return{domainConfig:e.accounts.domainConfig,accounts:e.accounts.accounts,organisations:e.accounts.organisations,reports:e.accounts.reports,loading:e.accounts.loading,error:e.accounts.error}}))((function(e){var t=e.loading,n=e.accounts,i=e.organisations,c=(e.reports,e.domainConfig),o=wn(),r=Object(re.a)(),u=Object(T.c)(),h=Object(a.useState)(!1),g=Object(l.a)(h,2),O=g[0],m=g[1],f=Object(a.useState)(null),v=Object(l.a)(f,2),S=v[0],C=v[1],N=Object(a.useState)(!1),E=Object(l.a)(N,2),B=E[0],R=E[1],W=Object(a.useState)(null),U=Object(l.a)(W,2),z=U[0],P=U[1],D=Object(a.useState)({width:0,height:0}),F=Object(l.a)(D,2),_=F[0],H=F[1],G=Object(a.useState)(null),M=Object(l.a)(G,2),V=M[0],q=M[1],J=Object(a.useState)(!0),X=Object(l.a)(J,2),K=X[0],Z=X[1],Q=Object(a.useState)(!1),Y=Object(l.a)(Q,2),te=Y[0],ne=Y[1],ae=Object(a.useState)(!0),ie=Object(l.a)(ae,2),ce=ie[0],oe=ie[1],je=Object(a.useState)("Grid"),pe=Object(l.a)(je,2),we=pe[0],Ce=pe[1];console.log("<Dashboard {".concat(t," ").concat(n.length,"/>"));var Te,Ne=Object(s.g)(),Ae=Object(s.f)(),Ee=function(e){e.id?(q(e),ne(!0)):(q({id:"",name:"",description:"",type:"iframe",url:"",width:"",height:"",sectionName:"Reports"}),ne(!0))},Be=function(){return d.a.auth().currentUser},Re=function(){ne(!1)},We=function(e){localStorage.setItem("selected_account",e.id),C(e),S&&S.id!==e.id&&Be().uid&&(console.log("current",e.id),an(Be().uid,e.id))},Ue=function(e){var t=e.buttons,n=e.afterClick,i=Object(a.useState)(0),c=Object(l.a)(i,2),r=(c[0],c[1]);return Object(I.jsx)(I.Fragment,{children:t.map((function(e,t){return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(p.a,{name:e,onClick:function(e){return function(e,t){r(t),n(e)}(e,t)},size:"medium",variant:e==we?"outlined":"contained",color:"primary",className:o.buttonoption,children:e},t)})}))})},ze=function(e){if(console.log("func handleSelectReport()"),oe(!1),Ce(""),clearTimeout(Te),Pe(e),P(null),nn(Be().uid,e.id),m("iframe"==e.type),Te=setTimeout((function(){m(!1)}),3e3),"link"!==e.type){var t=new URLSearchParams(Ae.search);e?(console.log("report handle",e.name),t.set("report",e.id)):t.set("",""),Ne({pathname:Ae.pathname,search:"?".concat(t.toString())}),P(e)}},Pe=function(e){z&&e&&(oe(!1),z.id==e.id)||d.a.auth().currentUser.getIdToken().then((function(t){var n={Authorization:"Bearer "+t,Accept:"application/json","Content-Type":"application/json","Cache-Control":"no-cache"};fetch("".concat("https://api.thereportapi.com","/reports/").concat(e.id),{method:"GET",headers:n}).then((function(e){return e.json()})).then((function(e){P(e)}))}))},De=document.getElementById("iframe-container"),Fe=new ResizeObserver((function(){var e=De.clientWidth||0,t=De.clientHeight||0,n=e!==_.width;(t!==_.height||n)&&H({width:e,height:t})})),Le=Object(s.h)(),_e=Le.id;Le.accountId;return Object(a.useEffect)((function(){new URLSearchParams(Ae.search).get("report")||P(null)}),[Ae,P]),Object(a.useEffect)((function(){if(console.log("Dashboard: useEffect",t,n),t||n&&0!==n.length)if(t||_e){var e=new URLSearchParams(Ae.search);console.log("new search 1",Ae.pathname),console.log("loading",t);var a=e.get("report"),i=n.find((function(e){return e.id===_e}));i&&(a?i.sections.every((function(e){var t=e.reports.find((function(e){return e.id===a}));return!t||(Pe(t),P(t),!1)})):P(null),We(i))}else{var o=new URLSearchParams(Ae.search);console.log("new search",Ae.pathname);var r=localStorage.getItem("selected_account")?localStorage.getItem("selected_account"):n[0].id;Ne({pathname:"/account/".concat(r),search:"?".concat(o.toString())})}else null!==c&&void 0!==c&&c.allowNewOrgCreation?Ne("/new-organisation"):Ne("/accept-invite")}),[t,n]),Object(a.useEffect)((function(){B&&d.a.auth().currentUser.getIdToken().then((function(e){u(ee(e,_e)),R(!1)}))}),[n,t,i,Ne,_e,B]),Object(a.useEffect)((function(){return De&&Fe.observe(De),function(){De&&Fe.unobserve(De)}}),[]),j.onAuthStateChanged((function(e){if(e&&n.length<=0)i=e,tn.identify(i.uid),d.a.auth().currentUser.getIdToken().then((function(e){u($(e))}));else if(_e&&n.length>0){var t=n.find((function(e){return e.id===_e}));if(t){var a=new URLSearchParams(Ae.search).get("report");a&&t.sections.every((function(e,t){var n=e.reports.find((function(e){return e.id===a}));return!n||(Pe(n),!1)})),We(t)}}else console.log("signout");var i})),Object(I.jsxs)("div",{className:o.root,children:[Object(I.jsx)(b.a,{}),t?Object(I.jsxs)("div",{className:o.loader,children:[Object(I.jsx)(w.a,{}),Object(I.jsx)(A,{})]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Xt,{reportData:V,report:z,accounts:n,account:S,open:K,user:Be(),organisations:i,isDashboard:!0,handleDrawerOpen:function(){Z(!0)},setSelectedReport:z,setEmptyReport:function(){oe(!0),P(null);var e=new URLSearchParams(Ae.search);e.delete("report"),Ne({pathname:Ae.pathname,search:"?".concat(e.toString())})},AvtarOption:!0,settingOption:!0,AccountOption:!0}),Object(I.jsxs)(se.a,{className:o.drawer,variant:"persistent",anchor:"left",open:K,classes:{paper:o.drawerPaper},children:[Object(I.jsx)("div",{className:o.drawerHeader,children:Object(I.jsx)(de.a,{onClick:function(){Z(!1)},children:"ltr"===r.direction?Object(I.jsx)(he.a,{}):Object(I.jsx)(be.a,{})})}),Object(I.jsx)(y.a,{}),Object(I.jsx)(le.a,{disablePadding:!0,children:(null===S||void 0===S?void 0:S.sections)&&(null===S||void 0===S?void 0:S.sections.map((function(e,t){return Object(I.jsxs)("div",{children:[["Pages"].includes(e.name)?"":Object(I.jsx)(xe.a,{children:e.name}),(e.reports||[]).map((function(t,n){return"link"===t.type?Object(I.jsxs)(Oe.a,{button:!0,component:"a",target:"_blank",href:t.url,onClick:function(){return ze(t)},children:[Object(I.jsx)(ye.a,{title:Object(I.jsxs)("span",{style:{fontSize:"1.5em"},children:[" ",S.editor?t.description:""]}),disableHoverListener:!t.description,children:Object(I.jsx)(me.a,{classes:{primary:o.listItemText},primary:t.name})}),S&&S.editor?Object(I.jsx)(fe.a,{children:Object(I.jsx)(de.a,{edge:"end","aria-label":"open",onClick:function(){return Ee(Object(k.a)(Object(k.a)({},t),{},{sectionName:e.name}))},children:Object(I.jsx)(Ie.a,{fontSize:"medium"})})}):Object(I.jsx)(fe.a,{children:Object(I.jsx)(de.a,{component:"a",target:"_blank",href:t.url,edge:"end","aria-label":"open",onClick:function(){return ze(t)},children:Object(I.jsx)(Se.a,{})})})]},n):Object(I.jsxs)(Oe.a,{button:!0,onClick:function(){return ze(t)},selected:z===t,children:[Object(I.jsx)(ye.a,{title:Object(I.jsx)("span",{style:{fontSize:"1.5em"},children:S&&S.editor?t.description:""}),disableHoverListener:!t.description,children:Object(I.jsx)(me.a,{classes:{primary:o.listItemText},primary:t.name,style:{overflow:"hidden"}})}),!!S&&S.editor&&Object(I.jsx)(fe.a,{children:Object(I.jsx)(de.a,{edge:"end","aria-label":"open",children:Object(I.jsx)(Ie.a,{onClick:function(){return Ee(Object(k.a)(Object(k.a)({},t),{},{sectionName:e.name}))}})})})]},n)}))]},t)})))}),!(null===S||void 0===S||!S.editor)&&S.editor&&Object(I.jsxs)("div",{className:o.add_button,children:[Object(I.jsx)(p.a,{variant:"contained",color:"primary",size:"small",className:o.button,startIcon:Object(I.jsx)(ke.a,{}),onClick:function(){Ee({id:"",type:"",description:"",url:"",name:"",width:"",height:"",sectionName:""})},children:"Add"}),Object(I.jsx)(rt,{reportData:V,openDialog:te,handleOpenDialog:Ee,handleCloseDialog:Re,setSelectedReport:ze,deleteReport:function(){d.a.auth().currentUser.getIdToken().then((function(e){var t={Authorization:"Bearer "+e,Accept:"application/json","Content-Type":"application/json"};fetch("".concat("https://api.thereportapi.com","/reports/").concat(V.id),{method:"DELETE",headers:t,body:JSON.stringify(V)}).then((function(){Re(),R(!0)}))}))},setUpdateAccount:R})]})]}),Object(I.jsxs)("main",{className:Object(ge.a)(o.content,Object(L.a)({},o.contentShift,K)),children:[Object(I.jsx)("div",{className:o.drawerHeader}),ce?Object(I.jsx)("div",{className:o.buttongroup,children:Object(I.jsx)(Ue,{buttons:["Grid","Table"],afterClick:function(e){var t=e.currentTarget;t.name;Ce(t.name)}})}):"",Object(I.jsxs)(x.a,{maxWidth:"lg",className:o.container,children:[O?Object(I.jsx)(ve.a,{className:"loading text-center"}):null,Object(I.jsx)(ue.a,{container:!0,spacing:3,children:Object(I.jsx)(ue.a,{item:!0,xs:12,children:z?Object(I.jsx)(vn,{account:S,reportTab:"0",report:z,open:K}):"Grid"===we?Object(I.jsx)(Yt,{account:S,handleSelectReport:ze}):"Table"===we?Object(I.jsx)(yn,{account:S,handleSelectReport:ze}):Object(I.jsx)(Yt,{account:S,handleSelectReport:ze})})})]})]})]})]})})),Cn=Object(f.a)((function(e){return{root:{display:"flex"},drawer:{width:0,flexShrink:0},drawerPaper:{width:0},logo:{paddingRight:24,maxHeight:40},drawerHeader:Object(k.a)(Object(k.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(0),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-0},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},loader:{marginTop:e.spacing(25),display:"flex",justifyContent:"center",width:"100%"},wrapper:{position:"relative",zIndex:1,display:"inline-block"},hideFooter:{position:"absolute",width:"100%",height:"26px",background:"#fafafa",bottom:0},add_button:{left:0,right:0,bottom:0,position:"sticky",zIndex:1,width:"100%",background:"#fff"},button:{margin:e.spacing(1),left:"17%"},hidden:{display:"none"},resizable:{overflow:"hidden",position:"relative"}}})),kn=Object(T.b)((function(e){return{domainConfig:e.accounts.domainConfig,accounts:e.accounts.accounts,organisations:e.accounts.organisations,reports:e.accounts.reports,loading:!1,error:e.accounts.error}}))((function(e){var t,n=e.loading,i=e.accounts,c=(e.organisations,e.reports,e.domainConfig),o=Cn(),r=Object(T.c)(),u=Object(a.useState)(!1),j=Object(l.a)(u,2),h=j[0],p=j[1],f=Object(a.useState)({}),v=Object(l.a)(f,2),y=v[0],S=(v[1],Object(a.useState)(null)),C=Object(l.a)(S,2),k=C[0],N=C[1],E=Object(a.useState)({width:0,height:0}),B=Object(l.a)(E,2),R=B[0],W=(B[1],Object(a.useState)(!1)),U=Object(l.a)(W,2),z=U[0],P=(U[1],Object(s.g)()),D=Object(s.f)(),F=function(){return d.a.auth().currentUser},_=function(e){k&&e&&k.id===e.id||d.a.auth().currentUser.getIdToken().then((function(t){var n={Authorization:"Bearer "+t,Accept:"application/json","Content-Type":"application/json"};fetch("".concat("https://api.thereportapi.com","/reports/").concat(e.id),{method:"GET",headers:n}).then((function(e){return H(e)}))}))},H=function(e){console.log("ShowReport",JSON.stringify(e)),n=!1,N(e)},G=Object(s.h)(),M=G.id,V=G.reportId;return Object(a.useEffect)((function(){new URLSearchParams(D.search).get("report")||N(null)}),[D,N]),Object(a.useEffect)((function(){var e=D.state||{};console.log("publicReport",e,M,V,n,k),function(e){console.log("getReport",e);var t={Accept:"application/json","Content-Type":"application/json"};d.a.auth().currentUser?d.a.auth().currentUser.getIdToken().then((function(n){t.Authorization="Bearer "+n,fetch("".concat("https://api.thereportapi.com","/reports/").concat(e),{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(e){console.log(e),e&&H(e)}))})):fetch("".concat("https://api.thereportapi.com","/reports/").concat(e),{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(e){console.log(e),e&&H(e)}))}(V),n||N(V)}),[n,i]),Object(a.useEffect)((function(){console.log(R,"P iframe sizes")}),[R]),Object(a.useEffect)((function(){r(Y())}),[r]),n?null:Object(I.jsxs)("div",{className:o.root,children:[Object(I.jsx)(b.a,{}),n||null===c||void 0===c||!c.logoUrl?Object(I.jsxs)("div",{className:o.loader,children:[Object(I.jsx)(w.a,{}),Object(I.jsx)(A,{})]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:o.paper,children:Object(I.jsx)(g.a,{style:{background:null===c||void 0===c?void 0:c.navColour},position:"fixed",children:Object(I.jsxs)(O.a,{children:[Object(I.jsx)("img",{src:null===c||void 0===c?void 0:c.logoUrl,alt:"logo",className:o.logo}),Object(I.jsx)(m.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:o.title})]})})}),Object(I.jsxs)("main",{className:Object(ge.a)(o.content,Object(L.a)({},o.contentShift,z)),children:[Object(I.jsx)("div",{className:o.drawerHeader}),Object(I.jsxs)(x.a,{maxWidth:"lg",className:o.container,children:[h?Object(I.jsx)(ve.a,{className:"loading text-center"}):null,Object(I.jsx)(ue.a,{container:!0,spacing:3,children:Object(I.jsx)(ue.a,{item:!0,xs:12,children:k?Object(I.jsx)(vn,{report:k}):Object(I.jsx)(Yt,{account:y,handleSelectReport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(clearTimeout(t),_(e),N(null),nn(F().uid,e.id),p("iframe"==e.type),t=setTimeout((function(){p(!1)}),3e3),"link"!==e.type){var n=new URLSearchParams(D.search);e?n.set("report",e.id):n.set("",""),P({pathname:D.pathname,search:"?".concat(n.toString())}),N(e)}}})})})]})]})]})]})})),Tn=Object(f.a)((function(e){return{root:{display:"flex"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(k.a)(Object(k.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(0),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},loader:{marginTop:e.spacing(25),display:"flex",justifyContent:"center",width:"100%"},wrapper:{position:"relative",zIndex:1,display:"inline-block"},hideFooter:{position:"absolute",width:"100%",height:"26px",background:"#fafafa",bottom:0},add_button:{left:0,right:0,bottom:0,position:"sticky",zIndex:1,width:"100%",background:"#fff"},button:{margin:e.spacing(1),left:"17%"},hidden:{display:"none"},resizable:{overflow:"hidden",position:"relative"}}})),In=Object(T.b)((function(e,t){return Object(k.a)(Object(k.a)({},t),{},{reports:e.accounts.reports})}))((function(e){var t=e.report,n=Tn();console.log("selectedReport",t);Object(T.c)();var a=Object(s.h)(),c=(a.id,a.reportId,i.a.useState(0)),o=Object(l.a)(c,2),r=o[0];o[1];return Object(I.jsxs)("div",{id:"report-outer",children:[" ",t?Object(I.jsx)("div",{children:"0"==r?Object(I.jsxs)("div",{children:["openapi-spec"==t.type?Object(I.jsx)("rapi-doc",{"spec-url":t.url,"show-header":"false","show-info":"false","allow-authentication":"false","allow-server-selection":"false","allow-api-list-style-selection":"false","render-style":"read","primary-color":"#4682b4",theme:"light",children:" "}):Object(I.jsx)("iframe",{background:"#fafafa",sandbox:"allow-scripts allow-forms allow-popups allow-same-origin allow-popups-to-escape-sandbox allow-modals allow-presentation allow-storage-access-by-user-activation allow-downloads",title:t.name,src:t.url,width:"100%",height:"100%",frameBorder:"0",marginHeight:"0",marginWidth:"0",scrolling:"no",style:{position:"absolute",border:0,width:"100%",height:"100%"}}),Object(I.jsx)("div",{className:n.hideFooter})]}):Object(I.jsx)(jn.a,{component:Fe.a,children:Object(I.jsxs)(ln.a,{className:n.table,"aria-label":"simple table",children:[Object(I.jsx)(hn.a,{children:Object(I.jsxs)(pn.a,{children:[Object(I.jsx)(un.a,{children:Object(I.jsx)(De.a,{fontWeight:"fontWeightBold",children:"Data Feed Name"})}),Object(I.jsx)(un.a,{align:"right",children:Object(I.jsx)(De.a,{fontWeight:"fontWeightBold",children:"Download"})}),Object(I.jsx)(un.a,{align:"right",children:Object(I.jsx)(De.a,{fontWeight:"fontWeightBold",children:"Feed URL"})})]})}),Object(I.jsx)(dn.a,{children:t.id&&t.map((function(e,t){return Object(I.jsxs)(pn.a,{children:[Object(I.jsx)(un.a,{component:"th",scope:"row",children:e.name}),Object(I.jsx)(un.a,{align:"right",children:Object(I.jsx)(de.a,{"aria-label":"download",className:n.margin,href:"".concat(e.url,".csv"),download:"".concat(e.url,".csv"),fontSize:"large",children:Object(I.jsx)(on.a,{fontSize:"inherit"})})}),Object(I.jsx)(un.a,{align:"right",children:Object(I.jsx)(de.a,{component:"a",target:"_blank",href:e.url,"aria-label":"Feed",className:n.margin,fontSize:"large",children:Object(I.jsx)(sn.a,{fontSize:"inherit"})})})]},t)}))})]})})}):""]})}));function Nn(){var e=window.location!=window.parent.location?document.referrer:document.location.href;return console.log("getParentUrl",e),e}var An=Object(f.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,padding:e.spacing(0),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},container:{paddingTop:e.spacing(0),paddingBottom:e.spacing(0)},loader:{marginTop:e.spacing(25),display:"flex",justifyContent:"center",width:"100%"},wrapper:{position:"relative",zIndex:1,display:"inline-block"},hideFooter:{position:"absolute",width:"100%",height:"26px",background:"#fafafa",bottom:0},hidden:{display:"none"},resizable:{resize:"both",overflow:"hidden",position:"relative"}}})),En=Object(T.b)((function(e){return{domainConfig:e.accounts.domainConfig,accounts:e.accounts.accounts,organisations:e.accounts.organisations,reports:e.accounts.reports,loading:!1,error:e.accounts.error}}))((function(e){var t=e.loading,n=e.accounts,i=(e.organisations,e.reports,e.domainConfig),c=An(),o=Object(T.c)(),r=Object(a.useState)(!1),u=Object(l.a)(r,2),j=u[0],h=(u[1],Object(a.useState)(null)),p=Object(l.a)(h,2),g=p[0],O=p[1],m=Object(s.f)(),f=function(e){t=!1,O(e)},x=Object(s.h)(),v=(x.id,x.reportId);return Object(a.useEffect)((function(){new URLSearchParams(m.search).get("report")||O(null)}),[m,O]),Object(a.useEffect)((function(){m.state;!function(e){var t={Accept:"application/json","Content-Type":"application/json",EmbeddedOn:Nn()};d.a.auth().currentUser?d.a.auth().currentUser.getIdToken().then((function(n){t.Authorization="Bearer "+n,fetch("".concat("https://api.thereportapi.com","/reports/").concat(e),{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(e){e&&f(e)}))})):fetch("".concat("https://api.thereportapi.com","/reports/").concat(e),{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(e){e&&f(e)}))}(v),t||O(v)}),[t,n]),Object(a.useEffect)((function(){o(Y())}),[o]),t?null:Object(I.jsxs)("div",{children:[Object(I.jsx)(b.a,{}),t||null===i||void 0===i||!i.logoUrl?Object(I.jsxs)("div",{className:c.loader,children:[Object(I.jsx)(w.a,{}),Object(I.jsx)(A,{})]}):Object(I.jsxs)(I.Fragment,{children:[j?Object(I.jsx)(ve.a,{className:"loading text-center"}):null,g?Object(I.jsx)(In,{reportTab:"0",report:g}):""]})]})})),Bn=n(213),Rn=n.n(Bn),Wn=n(214),Un=n.n(Wn),zn=n(215),Pn=n.n(zn),Dn=n(355),Fn=n.n(Dn),Ln=n(356),_n=n.n(Ln),Hn=n(357),Gn=n.n(Hn),Mn=n(691),Vn=n(376),qn=n(689),Jn=n(352),Xn=n(701),Kn=n(697),Zn=n(136),Qn=Object(f.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},loader:{height:"100%",width:"100%",alignItems:"center",justifyContent:"center",display:"flex"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",marginRight:e.spacing(2)},wrapper:{position:"relative",zIndex:1,display:"inline-block"},button:{margin:e.spacing(1),position:"absolute",bottom:"20px",left:"20%",alignSelf:"center"},input:{paddingLeft:e.spacing(1)},width100:{width:"100%"},noWrap:{whiteSpace:"nowrap"}}})),Yn=Object(T.b)((function(e,t){return Object(k.a)(Object(k.a)({},t),{},{users:e.users.users,url:e.users.url,loading:e.users.loading})}))((function(e){var t=e.isSettings,n=void 0!==t&&t,c=e.users,o=e.url,r=e.loading,u=Qn(),j=Object(T.c)(),b=Object(Zn.b)(),g=Object(a.useState)(""),O=Object(l.a)(g,2),m=O[0],f=O[1],v=Object(a.useState)(!1),S=Object(l.a)(v,2),C=S[0],N=S[1],A=Object(Jn.a)(),E=Object(l.a)(A,2),B=(E[0],E[1]),R=Object(s.h)().id,W=d.a.auth().currentUser;function U(e){return Object(I.jsx)(Kn.a,Object(k.a)({elevation:6,variant:"filled"},e))}Object(a.useEffect)((function(){W&&R&&d.a.auth().currentUser.getIdToken().then((function(e){j(Dt(e,n,R))}))}),[W,R]);var z=i.a.useState(!1),P=Object(l.a)(z,2),D=P[0],F=P[1],L=function(e,t){"clickaway"!==t&&F(!1)};return Object(I.jsx)(x.a,{maxWidth:"lg",className:u.container,style:{height:"100%"},children:Object(I.jsx)(ue.a,{container:!0,spacing:3,style:{height:"100%"},children:Object(I.jsx)(ue.a,{item:!0,xs:12,style:{height:"100%"},children:r?Object(I.jsx)(De.a,{className:u.loader,children:Object(I.jsx)(w.a,{})}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(Je.a,{children:[Object(I.jsx)(qn.a,{titleTypographyProps:{variant:"body1"},title:n?"Invite Clients or Colleagues to have access to this Account.":"Invite others in your Organisation. By default they will have access to all your Accounts."}),Object(I.jsxs)(Kt.a,{children:[Object(I.jsx)(Fe.a,{component:"form",className:"".concat(u.root," ").concat(u.width100),children:Object(I.jsx)(Vn.a,{name:"email",value:m,fullWidth:!0,onInput:function(e){return f(e.target.value)},className:u.input,placeholder:"Enter their Email"})}),Object(I.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){W&&m&&d.a.auth().currentUser.getIdToken().then((function(e){j(_t(e,n,R,m)),f("")}))},children:"Invite"})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)(y.a,{}),Object(I.jsx)(jn.a,{component:Fe.a,children:Object(I.jsxs)(ln.a,{className:u.table,"aria-label":"simple table",children:[Object(I.jsx)(hn.a,{children:Object(I.jsxs)(pn.a,{children:[Object(I.jsx)(un.a,{children:Object(I.jsx)(De.a,{fontWeight:"fontWeightBold",children:"Email"})}),Object(I.jsx)(un.a,{}),Object(I.jsx)(un.a,{align:"right",children:Object(I.jsx)(De.a,{fontWeight:"fontWeightBold",children:"Last Login"})}),Object(I.jsx)(un.a,{align:"right",children:Object(I.jsx)(De.a,{fontWeight:"fontWeightBold"})})]})}),Object(I.jsx)(dn.a,{children:c&&c.map((function(e,t){return Object(I.jsxs)(pn.a,{children:[Object(I.jsx)(un.a,{component:"th",scope:"row",children:e.email||e.name}),Object(I.jsx)(un.a,{align:"right",children:"invited"===e.status&&Object(I.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){return t=e.uid,d.a.auth().currentUser.getIdToken().then((function(e){j(Ft(e,t))})),void N(!0);var t},children:"Copy Invite"})}),Object(I.jsx)(un.a,{align:"right",children:e.lastLoginAt}),Object(I.jsx)(un.a,{align:"right",children:Object(I.jsx)(p.a,{variant:"contained",color:"secondary",onClick:function(){return t=e.uid,void b({description:"Are you sure you want to remove the user?"}).then((function(){W&&t&&d.a.auth().currentUser.getIdToken().then((function(e){j(Lt(e,n,R,t))}))}));var t},children:"Remove"})})]},t)}))})]})}),Object(I.jsxs)(Ee.a,{open:C,fullWidth:"true",maxWidth:"md",onClose:function(){return N(!1)},"aria-labelledby":"invite-dialog",children:[Object(I.jsx)(Re.a,{dividers:!0,children:null===o?Object(I.jsx)("div",{className:u.loader,children:Object(I.jsx)(w.a,{})}):Object(I.jsx)(h.a,{id:"link",fullWidth:"true",label:"Invite link",name:"link",defaultValue:o,InputProps:{readOnly:!0},variant:"outlined"})}),Object(I.jsxs)(Be.a,{children:[Object(I.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){B(o||""),F(!0)},children:"Copy"}),Object(I.jsx)(p.a,{variant:"contained",onClick:function(){return N(!1)},children:"Close"})]})]}),Object(I.jsx)(Xn.a,{open:D,autoHideDuration:3e3,onClose:L,children:Object(I.jsx)(U,{onClose:L,severity:"success",children:"URL copied!"})})]})})})})})),$n=["children","classes"],ea=Object(f.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",marginRight:e.spacing(2)},wrapper:{position:"relative",zIndex:1,display:"inline-block"},button:{margin:e.spacing(1),position:"absolute",bottom:"20px",left:"20%",alignSelf:"center"},input:{paddingLeft:e.spacing(1)},width100:{width:"100%"},noWrap:{whiteSpace:"nowrap"}}})),ta=Object(T.b)((function(e,t){return Object(k.a)(Object(k.a)({},t),{},{organisationAccounts:e.users.organisationAccounts})}))((function(e){var t=Object(We.b)(),n=t.handleSubmit,i=t.control,c=t.errors,o=Object(Zn.b)(),u=Object(a.useState)(!1),j=Object(l.a)(u,2),b=j[0],g=j[1],O=Object(a.useState)({}),f=Object(l.a)(O,2),v=f[0],w=f[1],S=e.organisationAccounts,C=ea(),N=Object(T.c)(),A=function(e){o({description:"This will archive the Account and all of its Reports."}).then((function(){B&&d.a.auth().currentUser.getIdToken().then((function(t){N(function(e,t){return function(n){var a={Authorization:"Bearer "+e};fetch("".concat("https://api.thereportapi.com","/accounts/")+t,{method:"PATCH",headers:a,body:JSON.stringify({archived:!0})}).then((function(e){return e.json()})).then((function(e){}))}}(t,e))}))}))},E=Object(s.h)().id,B=d.a.auth().currentUser,R=Object(Ae.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,a=Object(Ne.a)(e,$n);return Object(I.jsxs)(Ue.a,Object(k.a)(Object(k.a)({disableTypography:!0,className:n.root},a),{},{children:[Object(I.jsx)(m.a,{variant:"h6",children:t}),Object(I.jsx)(de.a,{"aria-label":"close",className:n.closeButton,onClick:function(){return g(!1)},children:Object(I.jsx)(Pe.a,{})})]}))}));return Object(a.useEffect)((function(){B&&E&&d.a.auth().currentUser.getIdToken().then((function(e){N(Ht(e,E))}))}),[B,E]),Object(I.jsx)(x.a,{maxWidth:"lg",className:C.container,children:Object(I.jsx)(ue.a,{container:!0,spacing:3,children:Object(I.jsxs)(ue.a,{item:!0,xs:12,children:[Object(I.jsxs)(Je.a,{children:[Object(I.jsx)(qn.a,{titleTypographyProps:{variant:"body1"},title:"Add a new Account to your organisation to hold your Reports, Tools and Links. Perfect for internal use for your Organisation or external use for your Clients."}),Object(I.jsx)(Kt.a,{children:Object(I.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){return g(!0)},children:"Create New Account"})})]}),Object(I.jsx)("br",{}),Object(I.jsx)(y.a,{}),Object(I.jsx)(jn.a,{component:Fe.a,children:Object(I.jsxs)(ln.a,{className:C.table,"aria-label":"simple table",children:[Object(I.jsx)(hn.a,{children:Object(I.jsxs)(pn.a,{children:[Object(I.jsx)(un.a,{children:Object(I.jsx)(De.a,{fontWeight:"fontWeightBold",children:"Name"})}),Object(I.jsx)(un.a,{style:{width:60},align:"right",children:Object(I.jsx)(De.a,{})}),Object(I.jsx)(un.a,{style:{width:60},align:"right",children:Object(I.jsx)(De.a,{})}),Object(I.jsx)(un.a,{style:{width:60},align:"right",children:Object(I.jsx)(De.a,{})})]})}),Object(I.jsx)(dn.a,{children:S&&S.map((function(e,t){return Object(I.jsxs)(pn.a,{children:[Object(I.jsx)(un.a,{component:"th",scope:"row",children:e.name}),Object(I.jsx)(un.a,{style:{width:60},align:"right",children:Object(I.jsx)(de.a,{onClick:function(){g(!0),w(e)},edge:"end","aria-label":"open",children:Object(I.jsx)(Ie.a,{size:"sm"})})}),Object(I.jsx)(un.a,{style:{width:60},align:"right",children:Object(I.jsx)(r.b,{style:{textDecoration:"none",color:"unset"},to:"/account/".concat(e.id,"/settings"),children:Object(I.jsx)(de.a,{edge:"end","aria-label":"open",children:Object(I.jsx)(gt.a,{size:"sm"})})})}),Object(I.jsx)(un.a,{align:"right",children:Object(I.jsx)(p.a,{variant:"contained",color:"secondary",onClick:function(){return A(e.id)},children:"Archive"})})]},t)}))})]})}),Object(I.jsxs)(Ee.a,{open:b,onClose:function(){return g(!1)},"aria-labelledby":"form-dialog-title",children:[Object(I.jsx)(R,{id:"form-dialog-title",onClose:function(){return g(!1)},children:Object(I.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:"Create Account                                         "})}),Object(I.jsxs)("form",{onSubmit:n((function(e){B&&(v.id?(e.organisationId=E,d.a.auth().currentUser.getIdToken().then((function(t){N(function(e,t,n){return function(a){var i={Authorization:"Bearer "+e,Accept:"application/json","Content-Type":"application/json"};fetch("".concat("https://api.thereportapi.com","/accounts/")+t,{method:"POST",headers:i,body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){t&&a(Ht(e,n.organisationId))}))}}(t,v.id,e))})),g(!1)):(e.organisationId=E,d.a.auth().currentUser.getIdToken().then((function(t){N(function(e,t){return function(n){var a={Authorization:"Bearer "+e,Accept:"application/json","Content-Type":"application/json"};fetch("".concat("https://api.thereportapi.com","/accounts/"),{method:"POST",headers:a,body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(a){a&&n(Ht(e,t.organisationId))}))}}(t,e))})),g(!1)))})),children:[Object(I.jsx)(Re.a,{style:{paddingTop:"0"},children:Object(I.jsx)(He.a,{fullWidth:!0,children:Object(I.jsx)(We.a,{name:"name",as:Object(I.jsx)(h.a,{id:"name",helperText:c.name?c.name.message:null,label:"Name",name:"name",fullWidth:!0,error:c.name}),defaultValue:v.name||"",control:i,rules:{required:"Required",minLength:{value:1,message:"The minimum length should be 1"},maxLength:{value:255,message:"The maximum length can't exceed be 255"}}})})}),Object(I.jsxs)(Be.a,{children:[Object(I.jsx)(p.a,{variant:"contained",onClick:function(){return g(!1)},children:"Cancel"}),Object(I.jsx)(p.a,{variant:"contained",type:"submit",value:"submit",color:"primary",children:"Next"})]})]})]})]})})})}));n(353),n(690);Object(f.a)((function(e){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},appBar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbar:{flexWrap:"wrap"},toolbarTitle:{flexGrow:1},link:{margin:e.spacing(1,1.5)},heroContent:{padding:e.spacing(8,0,6)},cardHeader:{backgroundColor:"light"===e.palette.mode?e.palette.grey[200]:e.palette.grey[700]},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},footer:Object(L.a)({borderTop:"1px solid ".concat(e.palette.divider),marginTop:e.spacing(8),paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},e.breakpoints.up("sm"),{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)})}}));var na="FETCH_SUBSCRIPTION_OPTIONS_BEGIN",aa="FETCH_SUBSCRIPTION_OPTIONS_SUCCESS",ia="FETCH_SUBSCRIPTION_OPTIONS_FAILURE";function ca(e,t){return function(n){var a={Authorization:"Bearer "+e};fetch("".concat("https://api.thereportapi.com","/subscriptions/options?organisationId=").concat(t),{headers:a}).then((function(e){return e.json()})).then((function(e){n({type:aa,payload:e})})).catch((function(e){return n(function(e){return{type:ia,payload:{error:e}}}(e))}))}}var oa=n(354),ra=(n(583),Object(oa.a)("pk_live_51HvBeeJOZoEXDFcIMofXdqHeozWHc6SvBezo6dGWOw8kTPlN5irhUwOHXl9gsyBKuknJAJv4TFY18Hs5yLsn6DB200JEEZ0nrc")),sa=Object(f.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",marginRight:e.spacing(2)},wrapper:{position:"relative",zIndex:1,display:"inline-block"},button:{margin:e.spacing(1),position:"absolute",bottom:"20px",left:"20%",alignSelf:"center"},input:{paddingLeft:e.spacing(1)},width100:{width:"100%"},noWrap:{whiteSpace:"nowrap"}}})),la=Object(T.b)((function(e,t){return console.log(e,t),Object(k.a)(Object(k.a)({},t),{},{subscriptionOptions:e.subscriptions.subscriptionOptions,organisationSubscription:e.subscriptions.organisationSubscription,manageBillingUrl:e.subscriptions.manageBillingUrl})}))((function(e){console.log(e);var t=Object(We.b)(),n=(t.handleSubmit,t.control,t.errors,Object(Zn.b)(),Object(a.useState)(!1)),i=Object(l.a)(n,2),c=(i[0],i[1],e.organisationSubscription),o=e.subscriptionOptions,r=e.manageBillingUrl,u=sa(),j=Object(T.c)(),h=Object(s.h)().id,b=d.a.auth().currentUser,g=function(){var e=Object(z.a)(Object(U.a)().mark((function e(t){var n,a,i,c;return Object(U.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra;case 2:return n=e.sent,a={Accept:"application/json","Content-Type":"application/json"},e.next=6,fetch("".concat("https://api.thereportapi.com","/subscriptions/create-checkout-session"),{body:JSON.stringify({organisationId:h,stripePriceId:t}),headers:a,method:"POST"});case 6:return i=e.sent,e.next=9,i.json();case 9:return c=e.sent,e.next=12,n.redirectToCheckout({sessionId:c.stripeSessionId});case 12:e.sent.error;case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){d.a.auth().currentUser.getIdToken().then((function(e){j(function(e,t){return function(n){var a={Authorization:"Bearer "+e};fetch("".concat("https://api.thereportapi.com","/accounts/?organisationId=")+t,{headers:a}).then((function(e){return e.json()})).then((function(e){e.length&&n({type:"FETCH_ORGANISATION_ACCOUNTS_SUCCESS",payload:e})}))}}(e,h))}))};return Object(a.useEffect)((function(){!b||!h||o&&0!=o.length||(O(),d.a.auth().currentUser.getIdToken().then((function(e){j(ca(e,h))})))}),[b,h,c,o,r]),Object(I.jsx)(x.a,{maxWidth:"lg",className:u.container,children:Object(I.jsxs)(ue.a,{container:!0,spacing:3,children:[r?Object(I.jsx)(ue.a,{item:!0,xs:12,children:Object(I.jsxs)(Je.a,{children:[Object(I.jsx)(qn.a,{titleTypographyProps:{variant:"body1"},title:"Current Subscription: "+String(c.status).toUpperCase()}),Object(I.jsx)(Ke.a,{children:Object(I.jsx)(m.a,{variant:"body2",component:"p",children:c.cancelAt?"  Your Subscription will expire on : "+function(e){var t=new Date(null);return t.setTime(1e3*e),t.toISOString()}(c.cancelAt):""})}),Object(I.jsx)(Kt.a,{children:Object(I.jsx)(p.a,{variant:"contained",color:"secondary",href:r,target:"_blank",children:"Manage Billing"})})]})}):Object(I.jsx)(ue.a,{item:!0,xs:12,children:Object(I.jsxs)(Je.a,{children:[Object(I.jsx)(qn.a,{titleTypographyProps:{variant:"body1"},title:"Subscription Options"}),Object(I.jsx)(jn.a,{component:Fe.a,children:Object(I.jsxs)(ln.a,{className:u.table,"aria-label":"simple table",children:[Object(I.jsx)(hn.a,{children:Object(I.jsxs)(pn.a,{children:[Object(I.jsx)(un.a,{children:Object(I.jsx)(De.a,{fontWeight:"fontWeightBold"})}),Object(I.jsx)(un.a,{align:"right",children:Object(I.jsx)(De.a,{})}),Object(I.jsx)(un.a,{align:"right",children:Object(I.jsx)(De.a,{})}),Object(I.jsx)(un.a,{align:"right",children:Object(I.jsx)(De.a,{})})]})}),Object(I.jsx)(dn.a,{children:o&&o.map((function(e,t){return Object(I.jsxs)(pn.a,{children:[Object(I.jsx)(un.a,{component:"th",scope:"row",children:e.name}),Object(I.jsx)(un.a,{component:"th",scope:"row",children:e.formattedPrice}),Object(I.jsx)(un.a,{component:"th",scope:"row",children:e.description}),Object(I.jsx)(un.a,{align:"right",children:e.subscribed?Object(I.jsx)(p.a,{variant:"contained",color:"secondary",href:e.url,children:"Manage"}):Object(I.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){return g(e.stripePriceId)},children:"Subscribe"})})]},t)}))})]})})]})}),Object(I.jsx)(ue.a,{item:!0,xs:12,children:Object(I.jsxs)(Je.a,{children:[Object(I.jsx)(qn.a,{titleTypographyProps:{variant:"body1"},title:"Invoice Billing"}),Object(I.jsx)(Ke.a,{children:Object(I.jsxs)(m.a,{variant:"body2",component:"p",children:["Some Enterprise clients prefer Invoice based billing, if that's you then get in-touch and we can set something up. ",Object(I.jsx)("a",{href:"mailto:Contact@ThatApiCompany.com",children:"Contact@ThatApiCompany.com"})]})})]})})]})})})),da=n(593),ua=["children","classes","onClose"],ja=Object(f.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",marginRight:e.spacing(2)},wrapper:{position:"relative",zIndex:1,display:"inline-block"},button:{margin:e.spacing(1),position:"absolute",bottom:"20px",left:"20%",alignSelf:"center"},input:{paddingLeft:e.spacing(1)},width100:{width:"100%"},noWrap:{whiteSpace:"nowrap"},loader:{height:"100%",width:"100%",alignItems:"center",justifyContent:"center",display:"flex"}}})),ha=Object(T.b)((function(e,t){return Object(k.a)(Object(k.a)({},t),{},{loading:e.users.loading,emailTemplates:e.users.emailTemplates,emailTemplateSuccess:e.users.emailTemplateSuccess,emailTemplateError:e.users.emailTemplateError})}))((function(e){var t=Object(We.b)(),n=t.handleSubmit,i=t.control,c=t.errors,o=Object(a.useState)({}),r=Object(l.a)(o,2),u=r[0],j=r[1],b=Object(a.useState)(!1),g=Object(l.a)(b,2),O=g[0],f=g[1],v=Object(a.useState)(),y=Object(l.a)(v,2),S=y[0],C=y[1],N=e.emailTemplates,A=e.loading,E=e.emailTemplateSuccess,B=e.emailTemplateError,R=ja(),W=Object(T.c)(),U=Object(s.h)().id,z=d.a.auth().currentUser;Object(a.useEffect)((function(){z&&U&&d.a.auth().currentUser.getIdToken().then((function(e){W(Gt(e,U))}))}),[z,U]),Object(a.useEffect)((function(){E&&f(!1),B&&C(B)}),[E,B]);var P=Object(Ae.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,a=e.onClose,i=Object(Ne.a)(e,ua);return Object(I.jsxs)(Ue.a,Object(k.a)(Object(k.a)({disableTypography:!0,className:n.root},i),{},{children:[Object(I.jsx)(m.a,{variant:"h6",children:t}),a?Object(I.jsx)(de.a,{"aria-label":"close",className:n.closeButton,onClick:a,children:Object(I.jsx)(Pe.a,{})}):null]}))}));return Object(I.jsx)(x.a,{maxWidth:"lg",className:R.container,children:Object(I.jsx)(ue.a,{container:!0,spacing:3,children:Object(I.jsxs)(ue.a,{item:!0,xs:12,children:[Object(I.jsx)(jn.a,{component:Fe.a,children:Object(I.jsxs)(ln.a,{className:R.table,"aria-label":"simple table",children:[Object(I.jsx)(hn.a,{children:Object(I.jsxs)(pn.a,{children:[Object(I.jsx)(un.a,{children:Object(I.jsx)(De.a,{fontWeight:"fontWeightBold",children:"Subject"})}),Object(I.jsx)(un.a,{children:Object(I.jsx)(De.a,{fontWeight:"fontWeightBold",align:"right",children:"Type"})}),Object(I.jsx)(un.a,{children:Object(I.jsx)(De.a,{})})]})}),Object(I.jsx)(dn.a,{children:N&&N.map((function(e,t){return Object(I.jsxs)(pn.a,{children:[Object(I.jsx)(un.a,{component:"th",scope:"row",children:e.subject}),Object(I.jsx)(un.a,{component:"th",scope:"row",style:{textAlign:"right"},children:e.type}),Object(I.jsx)(un.a,{align:"right",children:Object(I.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){f(!0),j(e)},children:"Edit"})})]},t)}))})]})}),Object(I.jsxs)(Ee.a,{open:O,onClose:function(){C(),f(!1)},"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"xs",children:[Object(I.jsx)(P,{id:"form-dialog-title",onClose:function(){C(),f(!1)},children:Object(I.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:"Update Template "})}),Object(I.jsxs)("form",{onSubmit:n((function(e){z&&u.type&&d.a.auth().currentUser.getIdToken().then((function(t){e.type=u.type,W(Mt(t,U,e))}))})),children:[Object(I.jsxs)(Re.a,{style:{paddingTop:0},children:[null!==S&&Object(I.jsx)(da.a,{error:!0,children:S}),Object(I.jsxs)(He.a,{fullWidth:!0,children:[Object(I.jsx)(We.a,{name:"subject",style:{marginTop:10,paddingBottom:20},as:Object(I.jsx)(h.a,{id:"subject",helperText:c.subject?c.subject.message:null,label:"Subject",name:"subject",fullWidth:!0,error:c.subject}),defaultValue:u.subject||"",control:i,rules:{required:"Required",minLength:{value:1,message:"The minimum length should be 1"},maxLength:{value:255,message:"The maximum length can't exceed be 255"}}}),Object(I.jsx)(We.a,{name:"body",as:Object(I.jsx)(h.a,{id:"subject",helperText:c.body?c.body.message:null,label:"Body",name:"body",multiline:!0,rows:5,fullWidth:!0,error:c.body}),defaultValue:u.body||"",control:i})]})]}),Object(I.jsxs)(Be.a,{children:[Object(I.jsx)(p.a,{variant:"contained",onClick:function(){C(),f(!1)},children:"Cancel"}),Object(I.jsx)(p.a,{variant:"contained",type:"submit",value:"submit",color:"primary",children:A?Object(I.jsx)("div",{className:R.loader,children:Object(I.jsx)(w.a,{size:20,color:"white"})}):Object(I.jsx)("span",{children:"Save"})})]})]})]})]})})})})),pa=n(106),ba=Object(f.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",marginRight:e.spacing(2)},wrapper:{position:"relative",zIndex:1,display:"inline-block"},button:{margin:e.spacing(1),position:"absolute",bottom:"20px",left:"20%",alignSelf:"center"},input:{paddingLeft:e.spacing(1)},width100:{width:"100%"},noWrap:{whiteSpace:"nowrap"}}})),ga=Object(T.b)((function(e,t){return Object(k.a)(Object(k.a)({},t),{},{theme:e.accounts.theme})}))((function(e){var t=e.theme,n=ba(),i=Object(T.c)(),c=Object(s.h)().id,o=Object(We.b)({mode:"onChange"}),r=(o.handleSubmit,o.control,d.a.auth().currentUser,function(){window.location.href.indexOf("account")>=0?d.a.auth().currentUser.getIdToken().then((function(e){i(function(e,t){return function(n){var a={Authorization:"Bearer "+e};fetch("".concat("https://api.thereportapi.com","/accounts/").concat(t,"/theme"),{headers:a}).then((function(e){return e.json()})).then((function(e){n(X(e))})).catch()}}(e,c))})):d.a.auth().currentUser.getIdToken().then((function(e){i(function(e,t){return function(n){var a={Authorization:"Bearer "+e};fetch("".concat("https://api.thereportapi.com","/organisations/").concat(t,"/theme"),{headers:a}).then((function(e){return e.json()})).then((function(e){n(X(e))})).catch()}}(e,c))}))});Object(a.useEffect)((function(){r()}),[]),Object(a.useEffect)((function(){console.log("theme object"),console.log(t.navColour),"navColour"in t&&(b(Object(pa.b)(t.navColour)),f(Object(pa.b)(t.colour1)),t.colour2&&k(Object(pa.b)(t.colour2)),B(t.hideTitle))}),[t]);var u=Object(a.useState)(""),j=Object(l.a)(u,2),h=j[0],b=j[1],g=Object(a.useState)(""),O=Object(l.a)(g,2),m=O[0],f=O[1],v=Object(a.useState)(""),y=Object(l.a)(v,2),w=y[0],k=y[1],N=Object(a.useState)(!1),A=Object(l.a)(N,2),E=A[0],B=A[1],R=function(e){e.preventDefault();var t={};t.navColour=h.hex?"#".concat(h.hex):"",t.colour1=m.hex?"#".concat(m.hex):"",t.colour2=w.hex?"#".concat(w.hex):"",t.hideTitle=E,console.log(t),window.location.href.indexOf("account")>=0?d.a.auth().currentUser.getIdToken().then((function(e){i(function(e,t,n){return function(a){var i={Authorization:"Bearer "+e,Accept:"application/json","Content-Type":"application/json"};fetch("".concat("https://api.thereportapi.com","/accounts/").concat(t,"/theme"),{method:"POST",headers:i,body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){console.log(t),t&&a($(e))}))}}(e,c,t))})):d.a.auth().currentUser.getIdToken().then((function(e){i(function(e,t,n){return function(a){var i={Authorization:"Bearer "+e,Accept:"application/json","Content-Type":"application/json"};fetch("".concat("https://api.thereportapi.com","/organisations/").concat(t,"/theme"),{method:"POST",headers:i,body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){console.log(t),t&&a($(e))}))}}(e,c,t))}))};return Object(I.jsx)(x.a,{maxWidth:"lg",className:n.container,children:Object(I.jsx)(ue.a,{container:!0,spacing:3,children:Object(I.jsx)(ue.a,{item:!0,xs:12,children:Object(I.jsxs)(Je.a,{children:[Object(I.jsx)(qn.a,{titleTypographyProps:{variant:"h5"},title:window.location.href.indexOf("account")>=0?"Update this Accounts Theme":"Update Your Organisations Theme"}),Object(I.jsxs)("form",{onSubmit:function(e){R(e)},children:[Object(I.jsxs)(Ke.a,{children:[Object(I.jsxs)(De.a,{display:"flex",alignItems:"center",children:[Object(I.jsx)(Ge.a,{style:{color:"black",minWidth:"20vw"},children:"Nav Bar Colour"}),Object(I.jsx)(De.a,{display:"flex",style:{background:"#cecece61",margin:"20px"},children:Object(I.jsx)(pa.a,{name:"color",format:"hex",value:h,defaultValue:h,onChange:function(e){console.log("val",e),b("object"===typeof e?e:Object(pa.b)(e))}})})]}),Object(I.jsxs)(De.a,{display:"flex",alignItems:"center",children:[Object(I.jsx)(Ge.a,{style:{color:"black",minWidth:"20vw"},children:"Nav Bar Text Colour"}),Object(I.jsx)(De.a,{display:"flex",style:{background:"#cecece61",margin:"20px"},children:Object(I.jsx)(pa.a,{value:m,onChange:function(e){f("object"===typeof e?e:Object(pa.b)(e))}})})]}),Object(I.jsxs)(De.a,{display:"flex",alignItems:"center",children:[Object(I.jsx)(Ge.a,{style:{color:"black",minWidth:"20vw"},children:"Background Colour"}),Object(I.jsx)(De.a,{display:"flex",style:{background:"#cecece61",margin:"20px"},children:Object(I.jsx)(pa.a,{value:w,onChange:function(e){k("object"===typeof e?e:Object(pa.b)(e))}})})]}),Object(I.jsx)(S.a,{value:E,control:Object(I.jsx)(C.a,{color:"primary"}),checked:E,onChange:function(e){var t=e.target;B(t.checked)},label:"Hide Navbar Text title",labelPlacement:"end"})]}),Object(I.jsx)(Kt.a,{children:Object(I.jsx)(p.a,{variant:"contained",color:"primary",type:"submit",value:"submit",children:"Update"})})]})]})})})})})),Oa=Object(f.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",marginRight:e.spacing(2)},wrapper:{position:"relative",zIndex:1,display:"inline-block"},button:{margin:e.spacing(1),position:"absolute",bottom:"20px",left:"20%",alignSelf:"center"},input:{paddingLeft:e.spacing(1)},width100:{width:"100%"},noWrap:{whiteSpace:"nowrap"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),ma=function(e){var t=new Date;return t.setTime(1e3*e),function(e){var t=new Date(e),n=fa(t.getMonth()+1),a=fa(t.getDate()),i=t.getFullYear(),c=t.getHours(),o=fa(t.getMinutes()),r="AM",s="string"===typeof c?parseInt(c):c;s>12?(r="PM",c=s-12):0===s&&(c="12");return c=fa(c),n+"-"+a+"-"+i+" "+c+":"+o+" "+r}(t)};function fa(e){return e<10?"0"+e:e}var xa="",va=Object(T.b)((function(e,t){return Object(k.a)(Object(k.a)({},t),{},{accessLogs:e.accounts.accessLogs,organisationAccounts:e.users.organisationAccounts})}))((function(e){var t=e.accessLogs,n=e.organisationAccounts;console.log("AccessLogs",e,xa);var c=Oa(),o=Object(T.c)(),r=Object(s.h)().id,u=d.a.auth().currentUser,j=i.a.useState(""),h=Object(l.a)(j,2);h[0],h[1];return Object(a.useEffect)((function(){console.log("useEffect",t,n),u&&r&&d.a.auth().currentUser.getIdToken().then((function(e){o(Ht(e,r))}))}),[u,r,t]),Object(I.jsx)(x.a,{maxWidth:"lg",className:c.container,children:Object(I.jsx)(ue.a,{container:!0,spacing:3,children:Object(I.jsx)(ue.a,{item:!0,xs:12,children:Object(I.jsxs)(Je.a,{children:[Object(I.jsx)(qn.a,{titleTypographyProps:{variant:"body1"},title:"A Log of each time someone views a Report on one of your Accounts"}),Object(I.jsx)(Ke.a,{children:Object(I.jsxs)(He.a,{className:c.formControl,children:[Object(I.jsx)(Ge.a,{id:"demo-simple-select-label",children:"Account"}),Object(I.jsx)(Me.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:xa,onChange:function(e){xa=e.target.value,d.a.auth().currentUser.getIdToken().then((function(t){o(te(t,e.target.value))}))},children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(I.jsx)(Ve.a,{value:e.id,children:e.name},t)}))})]})}),Object(I.jsx)(jn.a,{component:Fe.a,children:Object(I.jsxs)(ln.a,{"aria-label":"simple table",children:[Object(I.jsx)(hn.a,{children:Object(I.jsxs)(pn.a,{children:[Object(I.jsx)(un.a,{children:Object(I.jsx)(De.a,{fontWeight:"fontWeightBold",children:"Report"})}),Object(I.jsx)(un.a,{align:"left",children:Object(I.jsx)(De.a,{fontWeight:"fontWeightBold",children:"User"})}),Object(I.jsx)(un.a,{align:"left",children:Object(I.jsx)(De.a,{fontWeight:"fontWeightBold",children:"Date"})})]})}),Object(I.jsx)(dn.a,{children:t?t.map((function(e,t){return Object(I.jsxs)(pn.a,{children:[Object(I.jsx)(un.a,{component:"th",scope:"row",children:e.reportName}),Object(I.jsx)(un.a,{component:"th",scope:"row",children:e.userName}),Object(I.jsx)(un.a,{component:"th",scope:"row",children:ma(e.createdAt)})]},t)})):Object(I.jsx)(pn.a,{children:Object(I.jsx)(un.a,{component:"th",scope:"row",children:"Select an Account"})})})]})})]})})})})})),ya=n(358),wa=n.n(ya),Sa=Object(f.a)((function(e){return{root:{display:"flex"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(L.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",marginRight:e.spacing(2)},loader:{marginTop:e.spacing(25),display:"flex",justifyContent:"center",width:"100%"},wrapper:{position:"relative",zIndex:1,display:"inline-block"},hideFooter:{position:"absolute",width:"100%",height:"26px",background:"#fafafa",bottom:"5px"},button:{margin:e.spacing(1),position:"absolute",bottom:"20px",left:"20%",alignSelf:"center"},input:{paddingLeft:e.spacing(1)},width100:{width:"100%"},noWrap:{whiteSpace:"nowrap"}}})),Ca=Object(T.b)((function(e){return{accounts:e.accounts.accounts,organisations:e.accounts.organisations,loading:e.accounts.loading}}))((function(e){var t=e.loading,n=e.accounts,i=e.organisations,c=Sa(),o=Object(T.c)(),u=Object(a.useState)({}),j=Object(l.a)(u,2),h=j[0],p=j[1],g=Object(a.useState)("users"),O=Object(l.a)(g,2),m=O[0],f=O[1],x=Object(a.useState)(!0),v=Object(l.a)(x,2),S=v[0],C=v[1],k=Object(s.h)().id,N=Object(s.g)(),A=Object(s.f)(),E=new URLSearchParams(A.search);return Object(a.useEffect)((function(){if(i&&i.length>0){var e=i.find((function(e){return e.id===k}));e&&(p(e),document.title=e.name+": Reports")}else t&&d.a.auth().currentUser.getIdToken().then((function(e){o($(e))}))}),[k,t,i]),Object(I.jsxs)("div",{className:c.root,children:[Object(I.jsx)(b.a,{}),t?Object(I.jsx)("div",{className:c.loader,children:Object(I.jsx)(w.a,{})}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Xt,{accounts:n,open:S,account:h,organisations:i,handleDrawerOpen:function(){C(!0)},setEmptyReport:function(){N({pathname:"/",search:"?".concat(E.toString())})}}),Object(I.jsxs)(se.a,{variant:"permanent",classes:{paper:Object(ge.a)(c.drawerPaper,!S&&c.drawerPaperClose)},open:S,children:[Object(I.jsx)("div",{className:c.toolbarIcon,children:Object(I.jsx)(de.a,{onClick:function(){C(!1)},children:Object(I.jsx)(he.a,{})})}),Object(I.jsx)(y.a,{}),Object(I.jsxs)(le.a,{children:[Object(I.jsx)(Oe.a,{children:Object(I.jsxs)(r.b,{style:{textDecoration:"none",color:"unset",display:"flex"},to:"/",children:[Object(I.jsx)(Mn.a,{children:Object(I.jsx)(Rn.a,{})}),Object(I.jsx)(me.a,{primary:"Back to Reports"})]})}),Object(I.jsx)(Oe.a,{style:{cursor:"pointer"},selected:"users"===m,onClick:function(){return f("users")},children:Object(I.jsxs)(r.b,{style:{textDecoration:"none",color:"unset",display:"flex"},to:"#",children:[Object(I.jsx)(Mn.a,{children:Object(I.jsx)(Un.a,{})}),Object(I.jsx)(me.a,{primary:"Users"})]})}),Object(I.jsx)(Oe.a,{style:{cursor:"pointer"},selected:"accounts"===m,onClick:function(){return f("accounts")},children:Object(I.jsxs)(r.b,{style:{textDecoration:"none",color:"unset",display:"flex"},to:"#",children:[Object(I.jsx)(Mn.a,{children:Object(I.jsx)(Fn.a,{})}),Object(I.jsx)(me.a,{primary:"Accounts"})]})}),Object(I.jsx)(Oe.a,{style:{cursor:"pointer"},selected:"theme"===m,onClick:function(){return f("theme")},children:Object(I.jsxs)(r.b,{style:{textDecoration:"none",color:"unset",display:"flex"},to:"#",children:[Object(I.jsx)(Mn.a,{children:Object(I.jsx)(Pn.a,{})}),Object(I.jsx)(me.a,{primary:"Theme"})]})}),Object(I.jsx)(Oe.a,{style:{cursor:"pointer"},selected:"billing"===m,onClick:function(){return f("billing")},children:Object(I.jsxs)(r.b,{style:{textDecoration:"none",color:"unset",display:"flex"},to:"#",children:[Object(I.jsx)(Mn.a,{children:Object(I.jsx)(_n.a,{})}),Object(I.jsx)(me.a,{primary:"Billing"})]})}),Object(I.jsx)(Oe.a,{style:{cursor:"pointer"},selected:"email-templates"===m,onClick:function(){return f("email-templates")},children:Object(I.jsxs)(r.b,{style:{textDecoration:"none",color:"unset",display:"flex"},to:"#",children:[Object(I.jsx)(Mn.a,{children:Object(I.jsx)(Gn.a,{})}),Object(I.jsx)(me.a,{primary:"Email Templates"})]})}),Object(I.jsx)(Oe.a,{style:{cursor:"pointer"},selected:"access-logs"===m,onClick:function(){return f("access-logs")},children:Object(I.jsxs)(r.b,{style:{textDecoration:"none",color:"unset",display:"flex"},to:"#",children:[Object(I.jsx)(Mn.a,{children:Object(I.jsx)(wa.a,{})}),Object(I.jsx)(me.a,{primary:"Access Logs"})]})})]})]}),Object(I.jsxs)("main",{className:c.content,children:[Object(I.jsx)("div",{className:c.appBarSpacer}),"users"===m&&Object(I.jsx)(Yn,{}),"accounts"===m&&Object(I.jsx)(ta,{}),"theme"===m&&Object(I.jsx)(ga,{}),"billing"===m&&Object(I.jsx)(la,{}),"email-templates"===m&&Object(I.jsx)(ha,{}),"access-logs"===m&&Object(I.jsx)(va,{})]})]})]})})),ka=Object(f.a)((function(e){return{root:{},toolbar:{paddingRight:24},appBar:{height:"64px",zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{marginTop:"64px",position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(L.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",marginRight:e.spacing(2)},loader:{marginTop:e.spacing(25),display:"flex",justifyContent:"center",width:"100%"},noAccounts:{marginTop:e.spacing(25),display:"flex",justifyContent:"center"}}})),Ta=function(){var e=ka(),t=Object(a.useContext)(P).logout,n=Object(a.useState)(null),c=Object(l.a)(n,2),o=c[0],u=c[1],h=Object(a.useState)([]),f=Object(l.a)(h,2),S=f[0],C=f[1],T=Object(a.useState)(!0),N=Object(l.a)(T,2),A=N[0],E=N[1],B=Object(a.useState)(!0),R=Object(l.a)(B,2),W=R[0],U=R[1],z=Object(a.useState)(""),D=Object(l.a)(z,2),F=(D[0],D[1]),L=Object(a.useState)(""),_=Object(l.a)(L,2),H=_[0],G=_[1],M=Object(a.useState)(""),V=Object(l.a)(M,2),q=(V[0],V[1],i.a.useState(!1)),J=Object(l.a)(q,2),X=J[0],K=J[1],Z=i.a.useRef(null),Q=Object(s.g)(),Y=function(){t().then((function(){localStorage.clear()})).catch((function(e){})),E(null),Q("/")},$=function(e){Z.current&&Z.current.contains(e.target)||K(!1)},ee=Object(s.h)().id;return Object(a.useEffect)((function(){j.onAuthStateChanged((function(e){U(!1)}))}),[C,Q,ee]),Object(I.jsxs)("div",{className:e.root,children:[Object(I.jsx)(b.a,{}),W?Object(I.jsx)("div",{className:e.loader,children:Object(I.jsx)(w.a,{})}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(g.a,{position:"absolute",className:Object(ge.a)(e.appBar,A),children:Object(I.jsxs)(O.a,{className:e.toolbar,children:[Object(I.jsx)(de.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){E(!0)},className:Object(ge.a)(e.menuButton,A&&e.menuButtonHidden),children:Object(I.jsx)(lt.a,{})}),Object(I.jsx)(m.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:!(null===o||void 0===o||!o.name)}),Object(I.jsx)(p.a,{children:Object(I.jsx)(v.a,{ref:Z,"aria-haspopup":"true","aria-controls":X?"menu-list-grow":void 0,onClick:function(){K((function(e){return!e}))},children:((null===o||void 0===o?void 0:o.name)||"X").charAt(0)})}),Object(I.jsx)(ht.a,{open:X,anchorEl:Z.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(I.jsx)(jt.a,Object(k.a)(Object(k.a)({},t),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(I.jsx)(Fe.a,{children:Object(I.jsx)(ut.a,{onClickAway:$,children:Object(I.jsxs)(dt.a,{autoFocusItem:X,id:"menu-list-grow",children:[S&&S.map((function(e,t){return Object(I.jsx)(r.b,{style:{textDecoration:"none",color:"unset"},to:"/account/".concat(e.id),children:Object(I.jsx)(Ve.a,{selected:ee===e.id,onClick:function(t){u(e),$(t)},children:null===e||void 0===e?void 0:e.name})},t)})),Object(I.jsx)(De.a,{my:1,children:Object(I.jsx)(y.a,{})}),!!ee&&Object(I.jsx)(r.b,{style:{textDecoration:"none",color:"unset"},to:"/account/".concat(ee,"/settings"),children:Object(I.jsx)(Ve.a,{children:"Settings"})}),Object(I.jsx)(De.a,{my:1,children:Object(I.jsx)(y.a,{})}),Object(I.jsx)(Ve.a,{onClick:Y,children:"Logout"})]})})})}))}})]})}),Object(I.jsxs)("main",{className:e.content,children:[Object(I.jsx)("div",{className:e.appBarSpacer}),Object(I.jsx)(x.a,{maxWidth:"lg",className:e.container,children:Object(I.jsx)(ue.a,{container:!0,spacing:3,children:Object(I.jsx)(ue.a,{item:!0,xs:12,children:Object(I.jsx)("div",{className:e.noAccounts,children:Object(I.jsxs)(Je.a,{className:e.root,children:[Object(I.jsx)(qn.a,{titleTypographyProps:{variant:"body1"},title:"Enter your emailed Invite Code"}),Object(I.jsx)(Ke.a,{className:e.root,children:Object(I.jsx)(Fe.a,{component:"form",className:e.root,children:Object(I.jsx)(Vn.a,{name:"code",onChange:function(e){return G(e.target.value)},value:H,placeholder:" Invite Code"})})}),Object(I.jsx)(Kt.a,{children:Object(I.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(e){return U(!0),void d.a.auth().currentUser.getIdToken().then((function(e){var t={Authorization:"Bearer "+e,Accept:"application/json","Content-Type":"application/json"};fetch("".concat("https://api.thereportapi.com","/users/accept-invitation"),{method:"POST",headers:t,body:JSON.stringify({code:H})}).then((function(){U(!1),Q("/")})).catch((function(e){F(e.message),U(!1)}))}))},children:"Submit"})})]})})})})})]})]})]})},Ia=Object(f.a)((function(e){return{root:{},toolbar:{paddingRight:24},appBar:{height:"64px",zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{marginTop:"64px",position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(L.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",marginRight:e.spacing(2)},loader:{marginTop:e.spacing(25),display:"flex",justifyContent:"center",width:"100%"},noAccounts:{marginTop:e.spacing(25),display:"flex",justifyContent:"center"}}})),Na=Object(T.b)((function(e){return{accounts:e.accounts.accounts,organisations:e.accounts.organisations,loading:e.accounts.loading,error:e.accounts.error}}))((function(e){var t=e.accounts,n=e.organisations,c=Ia(),o=Object(a.useContext)(P).logout,r=Object(a.useState)({}),u=Object(l.a)(r,2),h=u[0],f=(u[1],Object(a.useState)(!0)),y=Object(l.a)(f,2),S=y[0],C=y[1],T=Object(a.useState)(!0),N=Object(l.a)(T,2),A=N[0],E=N[1],B=Object(a.useState)(""),R=Object(l.a)(B,2),W=(R[0],R[1]),U=Object(a.useState)(""),z=Object(l.a)(U,2),D=(z[0],z[1],Object(a.useState)("")),F=Object(l.a)(D,2),L=F[0],_=F[1],H=i.a.useState(!1),G=Object(l.a)(H,2),M=G[0],V=G[1],q=i.a.useRef(null),J=Object(s.g)(),X=function(){o().then((function(){localStorage.clear()})).catch((function(e){})),C(null),J("/")},K=function(e){q.current&&q.current.contains(e.target)||V(!1)},Z=Object(s.h)().id;return Object(a.useEffect)((function(){t.length>0&&J({pathname:"/first-run",state:{loading:!0}}),console.log("AcceptInvite:useEffect",A,t),j.onAuthStateChanged((function(e){E(!1)}))}),[t,A,n,J,Z]),Object(I.jsxs)("div",{className:c.root,children:[Object(I.jsx)(b.a,{}),A?Object(I.jsx)("div",{className:c.loader,children:Object(I.jsx)(w.a,{})}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(g.a,{position:"absolute",className:Object(ge.a)(c.appBar,S),children:Object(I.jsxs)(O.a,{className:c.toolbar,children:[Object(I.jsx)(de.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){C(!0)},className:Object(ge.a)(c.menuButton,S&&c.menuButtonHidden),children:Object(I.jsx)(lt.a,{})}),Object(I.jsx)(m.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:c.title,children:h.name}),Object(I.jsx)(p.a,{children:Object(I.jsx)(v.a,{ref:q,"aria-haspopup":"true","aria-controls":M?"menu-list-grow":void 0,onClick:function(){V((function(e){return!e}))},children:((null===h||void 0===h?void 0:h.name)||"X").charAt(0)})}),Object(I.jsx)(ht.a,{open:M,anchorEl:q.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(I.jsx)(jt.a,Object(k.a)(Object(k.a)({},t),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(I.jsx)(Fe.a,{children:Object(I.jsx)(ut.a,{onClickAway:K,children:Object(I.jsx)(dt.a,{autoFocusItem:M,id:"menu-list-grow",children:Object(I.jsx)(Ve.a,{onClick:X,children:"Logout"})})})})}))}})]})}),Object(I.jsxs)("main",{className:c.content,children:[Object(I.jsx)("div",{className:c.appBarSpacer}),Object(I.jsx)(x.a,{maxWidth:"lg",className:c.container,children:Object(I.jsx)(ue.a,{container:!0,spacing:3,children:Object(I.jsx)(ue.a,{item:!0,xs:12,children:Object(I.jsx)("div",{className:c.noAccounts,children:Object(I.jsxs)(Je.a,{className:c.root,children:[Object(I.jsx)(qn.a,{titleTypographyProps:{variant:"body1"},title:"What is the name of your Organisation?"}),Object(I.jsx)(Ke.a,{className:c.root,children:Object(I.jsx)(Fe.a,{component:"form",className:c.root,children:Object(I.jsx)(Vn.a,{name:"name",onChange:function(e){return _(e.target.value)},className:c.input,placeholder:" Organisation Name"})})}),Object(I.jsx)(Kt.a,{children:Object(I.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){return E(!0),void d.a.auth().currentUser.getIdToken().then((function(e){var t={Authorization:"Bearer "+e,Accept:"application/json","Content-Type":"application/json"};fetch("".concat("https://api.thereportapi.com","/organisations"),{method:"POST",headers:t,body:JSON.stringify({name:L})}).then((function(e){return e.json()})).then((function(e){E(!0),console.log(e),J({pathname:"/first-run",state:{loading:!0}})})).catch((function(e){W(e.message),E(!1)}))}))},children:"Finish Signup"})})]})})})})})]})]})]})})),Aa=Object(f.a)((function(e){return{root:{display:"flex"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(L.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",marginRight:e.spacing(2)},loader:{marginTop:e.spacing(25),display:"flex",justifyContent:"center",width:"100%"},wrapper:{position:"relative",zIndex:1,display:"inline-block"},hideFooter:{position:"absolute",width:"100%",height:"26px",background:"#fafafa",bottom:"5px"},button:{margin:e.spacing(1),position:"absolute",bottom:"20px",left:"20%",alignSelf:"center"},input:{paddingLeft:e.spacing(1)},width100:{width:"100%"},noWrap:{whiteSpace:"nowrap"}}})),Ea=Object(T.b)((function(e){return{accounts:e.accounts.accounts,organisations:e.accounts.organisations,loading:e.accounts.loading,error:e.accounts.error}}))((function(e){var t=e.loading,n=e.accounts,i=e.organisations,c=Aa(),o=Object(T.c)(),u=Object(a.useState)({}),h=Object(l.a)(u,2),p=h[0],g=h[1],O=Object(a.useState)(!0),m=Object(l.a)(O,2),f=m[0],x=m[1],v=Object(a.useState)("users"),S=Object(l.a)(v,2),C=S[0],k=S[1],N=Object(s.h)().id,A=Object(s.g)(),E=Object(s.f)(),B=new URLSearchParams(E.search),R=d.a.auth().currentUser;return j.onAuthStateChanged((function(e){e&&n.length<=0&&d.a.auth().currentUser.getIdToken().then((function(e){o($(e))}))})),Object(a.useEffect)((function(){if(R&&N&&n.length<=0)d.a.auth().currentUser.getIdToken().then((function(e){o($(e))}));else if(R&&N&&n.length>0){var e=n.find((function(e){return e.id===N}));g(e)}}),[R,N,n]),Object(I.jsxs)("div",{className:c.root,children:[Object(I.jsx)(b.a,{}),t?Object(I.jsx)("div",{className:c.loader,children:Object(I.jsx)(w.a,{})}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Xt,{setEmptyReport:function(){A({pathname:"/account/".concat(N),search:"?".concat(B.toString())})},user:R,accounts:n,account:p,open:f,organisations:i,handleDrawerOpen:function(){x(!0)}}),Object(I.jsxs)(se.a,{variant:"permanent",classes:{paper:Object(ge.a)(c.drawerPaper,!f&&c.drawerPaperClose)},open:f,children:[Object(I.jsx)("div",{className:c.toolbarIcon,children:Object(I.jsx)(de.a,{onClick:function(){x(!1)},children:Object(I.jsx)(he.a,{})})}),Object(I.jsx)(y.a,{}),Object(I.jsxs)(le.a,{children:[Object(I.jsx)(Oe.a,{children:Object(I.jsxs)(r.b,{style:{textDecoration:"none",color:"unset",display:"flex"},to:"/account/".concat(N),children:[Object(I.jsx)(Mn.a,{children:Object(I.jsx)(Rn.a,{})}),Object(I.jsx)(me.a,{primary:"Back to Reports"})]})}),Object(I.jsx)(Oe.a,{selected:"users"===C,onClick:function(){return k("users")},children:Object(I.jsxs)(r.b,{style:{textDecoration:"none",color:"unset",display:"flex"},to:"#",children:[Object(I.jsx)(Mn.a,{children:Object(I.jsx)(Un.a,{})}),Object(I.jsx)(me.a,{primary:"Users"})]})}),Object(I.jsx)(Oe.a,{selected:"theme"===C,onClick:function(){return k("theme")},children:Object(I.jsxs)(r.b,{style:{textDecoration:"none",color:"unset",display:"flex"},to:"#",children:[Object(I.jsx)(Mn.a,{children:Object(I.jsx)(Pn.a,{})}),Object(I.jsx)(me.a,{primary:"Theme"})]})})]})]}),Object(I.jsxs)("main",{className:c.content,children:[Object(I.jsx)("div",{className:c.appBarSpacer}),"users"===C&&Object(I.jsx)(Yn,{isSettings:!0}),"theme"===C&&Object(I.jsx)(ga,{isSettings:!0})]})]})]})})),Ba=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},logo:{paddingRight:24,maxHeight:40},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},small:{width:e.spacing(3),height:e.spacing(3)},loader:{marginTop:e.spacing(25),display:"flex",justifyContent:"center",width:"100%"}}})),Ra=function(){var e=Object(s.g)();console.log(e,"HISTORY");var t=Object(a.useState)(""),n=Object(l.a)(t,2),i=n[0],c=n[1],o=Object(a.useState)(""),r=Object(l.a)(o,2),d=r[0],u=r[1],b=Ba();return Object(I.jsx)(x.a,{component:"main",maxWidth:"xs",children:Object(I.jsxs)("div",{className:b.paper,children:[Object(I.jsx)(h.a,{onChange:function(e){return c(e.target.value)},value:i,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(I.jsx)("div",{style:{width:"100%",color:"red"},children:d}),Object(I.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:b.submit,onClick:function(){j.sendPasswordResetEmail(i).then((function(){e("/login")})).catch((function(e){var t=e.message;u(t)}))},children:"Send Verification"}),Object(I.jsx)("br",{}),Object(I.jsx)(A,{})]})})},Wa=Object(f.a)({openapiDoc:{position:"relative",backgroundColor:"white"},resizable:{resize:"both",overflow:"hidden",position:"relative",backgroundColor:"white"},hideFooter:{position:"absolute",width:"100%",height:"26px",background:"#fafafa",bottom:0},MarkDownButtons:{margin:"0% 0% 1.5% 68%"},SaveButton:{margin:"0 0 0 3%"}}),Ua=function(e){var t=e.report,n=e.account,a=e.onResize,c=(e.open,i.a.useState(!0)),o=Object(l.a)(c,2),r=(o[0],o[1]),s=i.a.useState({width:t.width,height:t.height}),d=Object(l.a)(s,2),u=d[0],j=d[1],h=i.a.useState({width:window.innerWidth}),p=Object(l.a)(h,2);p[0],p[1];console.log("ReportFramePublic component",t,n);var b=Wa(),g=i.a.useState(t.body),O=Object(l.a)(g,2),m=O[0],f=O[1];i.a.useEffect((function(){console.log("ReportFramePublic setTimeout"),setTimeout((function(){r(!1)}),3e3)}),[]),i.a.useEffect((function(){u.width&&u.height&&a&&a(u)}),[u]),i.a.useEffect((function(){console.log("ReportFramePublic report.body"),f(t.body)}),[t.body]);var x=document.getElementById("iframe-container");new ResizeObserver((function(){console.log("ReportFramePublic handleResize");var e=null===x||void 0===x?void 0:x.clientWidth,n=null===x||void 0===x?void 0:x.clientHeight,a=e!==u.width;(n!==u.height||a)&&j({width:"".concat(t.width,"/").concat(a," * 100"),height:n})}));return i.a.useEffect((function(){console.log("ReportFramePublic rcurrentRefDiv")})),Object(I.jsx)(I.Fragment,{children:"markdown"===t.type?Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{"data-color-mode":"light",className:b.resizable,id:"iframe-container",style:{width:"".concat(t.width,"/").concat(window.innerWidth," * 100"),height:"".concat(t.height||3e3,"px")},children:[Object(I.jsx)("div",{className:"wmde-markdown-var"}),Object(I.jsx)(bn.a.Markdown,{style:{padding:15},source:m,linkTarget:"_blank"})]})}):Object(I.jsxs)("div",{className:"openapi-spec"===t.type?b.openapiDoc:b.resizable,id:"iframe-container",style:{width:"openapi-spec"===t.type?"100%":"".concat(t.width,"/").concat(window.innerWidth," * 100"),height:"openapi-spec"===t.type?"90vh":"".concat(t.height,"px")},children:["openapi-spec"===t.type?Object(I.jsx)(gn.RedocStandalone,{specUrl:t.url}):Object(I.jsx)("iframe",{sandbox:"allow-scripts allow-forms allow-popups allow-same-origin allow-popups-to-escape-sandbox allow-modals allow-presentation allow-storage-access-by-user-activation allow-downloads",title:t.name,src:t.url,width:"100%",height:"100%",frameBorder:"0",scrolling:"no"}),Object(I.jsx)("div",{className:b.hideFooter})]})})},za=["report","account","reportTab","open"];Object(f.a)((function(e){return{root:{display:"flex"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(k.a)(Object(k.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(0),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},loader:{marginTop:e.spacing(25),display:"flex",justifyContent:"center",width:"100%"},wrapper:{position:"relative",zIndex:1,display:"inline-block"},hideFooter:{position:"absolute",width:"100%",height:"26px",background:"#fafafa",bottom:0},add_button:{left:0,right:0,bottom:0,position:"sticky",zIndex:1,width:"100%",background:"#fff"},button:{margin:e.spacing(1),left:"17%"},hidden:{display:"none"},resizable:{resize:"both",overflow:"hidden",position:"relative"}}}));var Pa=Object(T.b)((function(e,t){return Object(k.a)(Object(k.a)({},t),{},{reports:e.accounts.reports})}))((function(e){var t=e.report,n=e.account,a=e.reportTab,i=e.open,c=Object(Ne.a)(e,za);return Object(I.jsx)("div",{id:"report-outer",children:t?Object(I.jsx)("div",{children:"0"===a?Object(I.jsx)(Ua,Object(k.a)({account:n,report:t,open:i,onResize:function(e){}},c)):Object(I.jsx)(jn.a,{component:Fe.a,children:Object(I.jsxs)(ln.a,{"aria-label":"simple table",children:[Object(I.jsx)(hn.a,{children:Object(I.jsxs)(pn.a,{children:[Object(I.jsx)(un.a,{children:Object(I.jsx)(De.a,{fontWeight:"fontWeightBold",children:"Data Feed Name"})}),Object(I.jsx)(un.a,{align:"right",children:Object(I.jsx)(De.a,{fontWeight:"fontWeightBold",children:"Download"})}),Object(I.jsx)(un.a,{align:"right",children:Object(I.jsx)(De.a,{fontWeight:"fontWeightBold",children:"Feed URL"})})]})}),Object(I.jsx)(dn.a,{children:t&&t.map((function(e,t){return Object(I.jsxs)(pn.a,{children:[Object(I.jsx)(un.a,{component:"th",scope:"row",children:e.name}),Object(I.jsx)(un.a,{align:"right",children:Object(I.jsx)(de.a,{"aria-label":"download",href:"".concat(e.url,".csv"),download:"".concat(e.url,".csv"),size:"medium",children:Object(I.jsx)(on.a,{fontSize:"inherit"})})}),Object(I.jsx)(un.a,{align:"right",children:Object(I.jsx)(de.a,{component:"a",target:"_blank",href:e.url,"aria-label":"Feed",size:"medium",children:Object(I.jsx)(sn.a,{fontSize:"inherit"})})})]},t)}))})]})})}):""})})),Da=Object(f.a)((function(e){return{root:{flexGrow:1},card:{height:320,width:350},control:{padding:e.spacing(2)}}}));function Fa(e){var t,n=Da(),a=e.account,i=e.handleSelectReport;return Object(I.jsx)(ue.a,{container:!0,className:n.root,spacing:2,children:Object(I.jsx)(ue.a,{item:!0,xs:12,children:Object(I.jsx)(ue.a,{container:!0,spacing:2,children:null===a||void 0===a||null===(t=a.reports)||void 0===t?void 0:t.map((function(t,a){return Object(I.jsx)(ue.a,{item:!0,children:Object(I.jsxs)(Je.a,{className:n.card,children:[Object(I.jsxs)(Xe.a,{children:[Object(I.jsx)(Zt.a,{component:"img",alt:t.name,height:"200",image:t.previewUrl,title:t.name,onClick:function(){return i(t)}}),Object(I.jsx)(Ke.a,{children:Object(I.jsx)(m.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.name})})]}),Object(I.jsx)(Kt.a,{children:"link"===t.type?Object(I.jsx)(p.a,{component:"a",href:t.url.replace(/^(?:(.*:)?\/\/)?(.*)/i,(function(e,t,n){return t?e:"http://".concat(n)})),target:"_blank",size:"small",color:"primary",children:"VIEW"}):Object(I.jsx)(p.a,{size:"small",color:"primary",onClick:function(){return e.handleSelectReport(t)},children:"VIEW"})})]})},a)}))})})})}var La=function(e){var t,n=e.account;e.handleSelectReport;return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(jn.a,{component:Fe.a,children:Object(I.jsxs)(ln.a,{"aria-label":"simple table",children:[Object(I.jsx)(hn.a,{children:Object(I.jsxs)(pn.a,{children:[Object(I.jsx)(un.a,{children:Object(I.jsx)(De.a,{fontWeight:"fontWeightBold",children:"Report"})}),Object(I.jsx)(un.a,{align:"right"})]})}),Object(I.jsx)(dn.a,{children:null===n||void 0===n||null===(t=n.reports)||void 0===t?void 0:t.map((function(t,n){return Object(I.jsxs)(pn.a,{children:[Object(I.jsx)(un.a,{component:"th",scope:"row",children:t.name}),Object(I.jsx)(un.a,{align:"right",children:"link"===t.type?Object(I.jsx)(p.a,{component:"a",href:t.url.replace(/^(?:(.*:)?\/\/)?(.*)/i,(function(e,t,n){return t?e:"http://".concat(n)})),target:"_blank",size:"small",color:"primary",variant:"contained",children:"VIEW"}):Object(I.jsx)(p.a,{size:"small",color:"primary",variant:"contained",onClick:function(){return e.handleSelectReport(t)},children:"VIEW"})})]},n)}))})]})})})},_a=Object(f.a)((function(e){return{root:{display:"flex",margin:"41px 0 0 12px"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(k.a)(Object(k.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(0,0),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},container:{paddingTop:e.spacing(4,0),paddingBottom:e.spacing(4,0)},loader:{marginTop:e.spacing(25,0),display:"flex",justifyContent:"center",width:"100%"},wrapper:{position:"relative",zIndex:1,display:"inline-block"},hideFooter:{position:"absolute",width:"100%",height:"26px",background:"#fafafa",bottom:0},add_button:{left:0,right:0,bottom:0,position:"sticky",zIndex:1,width:"100%",background:"#fff"},button:{margin:e.spacing(1,0),left:"17%"},hidden:{display:"none"},resizable:{resize:"both",overflow:"auto",position:"relative"},buttongroup:{margin:"0 0 1.3% 78%"},buttonoption:{marginRight:"6px"}}})),Ha=function(){var e,t=_a(),n=Object(re.a)(),i=(Object(T.c)(),Object(a.useState)(!0)),c=Object(l.a)(i,2),o=c[0],r=c[1],d=Object(a.useState)(!1),u=Object(l.a)(d,2),j=u[0],h=u[1],g=Object(a.useState)(null),O=Object(l.a)(g,2),m=O[0],f=O[1],v=Object(a.useState)(null),S=Object(l.a)(v,2),C=S[0],k=S[1],N=Object(a.useState)({width:0,height:0}),E=Object(l.a)(N,2),B=E[0],R=E[1],W=Object(a.useState)(null),U=Object(l.a)(W,2),z=U[0],P=(U[1],Object(a.useState)(!0)),D=Object(l.a)(P,2),F=D[0],_=D[1],H=Object(a.useState)(!1),G=Object(l.a)(H,2),M=(G[0],G[1],Object(a.useState)(!0)),V=Object(l.a)(M,2),q=V[0],J=V[1],X=Object(a.useState)("Grid"),K=Object(l.a)(X,2),Z=K[0],Q=K[1],Y=Object(s.g)(),$=Object(s.f)(),ee=Object(s.h)().accountId,te=function(e){var n=e.buttons,i=e.afterClick,c=Object(a.useState)(0),o=Object(l.a)(c,2),r=(o[0],o[1]);return Object(I.jsx)(I.Fragment,{children:n.map((function(e,n){return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(p.a,{name:e,onClick:function(e){return function(e,t){r(t),i(e)}(e,n)},size:"medium",variant:e==Z?"outlined":"contained",color:"primary",className:t.buttonoption,children:e},n)})}))})},ne=function(t){if(J(!1),Q(""),clearTimeout(e),ae(t),h("iframe"==t.type),e=setTimeout((function(){h(!1)}),3e3),"link"!==t.type){var n=new URLSearchParams($.search);t?n.set("report",t.id):n.set("",""),Y({pathname:$.pathname,search:"?".concat(n.toString())}),k(t)}},ae=function(e){k(e)},ie=document.getElementById("iframe-container"),ce=new ResizeObserver((function(){var e=ie.clientWidth||0,t=ie.clientHeight||0,n=e!==B.width;(t!==B.height||n)&&R({width:e,height:t})}));return Object(a.useEffect)((function(){ee?(e=setTimeout((function(){r(!1)}),2e3),fetch("".concat("https://api.thereportapi.com","/accounts/").concat(ee),{method:"GET"}).then((function(e){return e.json()})).then((function(e){var t=e;console.log("new info::",t),f(t),console.log("account info ",m)})).catch((function(e){Y("/login")}))):Y("/login")}),[ee]),Object(a.useEffect)((function(){null!==m&&void 0!==m&&m.public&&console.log("accnt is public"),null!==m&&void 0!==m&&m.defaultReportId&&ne(m.reports.find((function(e){return e.id==m.defaultReportId})))}),[m]),Object(a.useEffect)((function(){return ie&&ce.observe(ie),function(){ie&&ce.unobserve(ie)}}),[]),Object(I.jsxs)("div",{className:t.root,children:[Object(I.jsx)(b.a,{}),o?Object(I.jsxs)("div",{className:t.loader,children:[Object(I.jsx)(w.a,{}),Object(I.jsx)(A,{})]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Xt,{reportData:z,report:C,account:m,open:F,isDashboard:!0,handleDrawerOpen:function(){_(!0)},setSelectedReport:C,setEmptyReport:function(){var e=m.reports.find((function(e){return e.id==m.defaultReportId}));if(e)k(e);else{var t=new URLSearchParams($.search);t.delete("report"),Y({pathname:$.pathname,search:"?".concat(t.toString())}),J(!0)}},settingOption:!1,AccountOption:!1,AvtarOption:!1}),Object(I.jsxs)(se.a,{className:t.drawer,variant:"persistent",anchor:"left",open:F,classes:{paper:t.drawerPaper},children:[Object(I.jsx)("div",{className:t.drawerHeader,children:Object(I.jsx)(de.a,{onClick:function(){_(!1)},children:"ltr"===n.direction?Object(I.jsx)(he.a,{}):Object(I.jsx)(be.a,{})})}),Object(I.jsx)(y.a,{}),Object(I.jsx)(le.a,{children:null===m||void 0===m?void 0:m.reports.map((function(e,t){return Object(I.jsx)("div",{children:"link"===e.type?Object(I.jsxs)(Oe.a,{button:!0,component:"a",target:"_blank",href:e.url,onClick:function(){return ne(e)},children:[Object(I.jsx)(ye.a,{title:Object(I.jsx)("span",{style:{fontSize:"1.5em"}}),disableHoverListener:!e.description,children:Object(I.jsx)(me.a,{primary:e.name})}),Object(I.jsx)(fe.a,{children:Object(I.jsx)(de.a,{component:"a",target:"_blank",href:e.url,edge:"end","aria-label":"open",onClick:function(){return ne(e)},children:Object(I.jsx)(Se.a,{})})})]},t):Object(I.jsx)(Oe.a,{button:!0,onClick:function(){return ne(e)},selected:C===e,children:Object(I.jsx)(ye.a,{title:Object(I.jsx)("span",{style:{fontSize:"1.5em"}}),disableHoverListener:!e.description,children:Object(I.jsx)(me.a,{primary:e.name,style:{overflow:"hidden"}})})},t)},t)}))})]}),Object(I.jsxs)("main",{className:Object(ge.a)(t.content,Object(L.a)({},t.contentShift,F)),children:[Object(I.jsx)("div",{className:t.drawerHeader}),q?Object(I.jsx)("div",{className:t.buttongroup,children:Object(I.jsx)(te,{buttons:["Grid","Table"],afterClick:function(e){var t=e.currentTarget;t.name;Q(t.name)}})}):"",Object(I.jsxs)(x.a,{maxWidth:"xl",className:t.container,children:[j?Object(I.jsx)(ve.a,{className:"loading text-center"}):null,C?Object(I.jsx)(Pa,{account:m,reportTab:"0",report:C,open:F}):"",Object(I.jsx)(ue.a,{container:!0,spacing:3,children:Object(I.jsx)(ue.a,{item:!0,xs:12,children:C?"":"Grid"===Z?Object(I.jsx)(Fa,{account:m,handleSelectReport:ne}):"Table"===Z?Object(I.jsx)(La,{account:m,handleSelectReport:ne}):Object(I.jsx)(Fa,{account:m,handleSelectReport:ne})})})]})]})]})]})},Ga=[{name:"Login",path:"/login",exact:!0,main:Object(I.jsx)(oe,{})},{name:"Signup",path:"/signup",exact:!0,main:Object(I.jsx)(oe,{isSignup:!0})},{name:"PublicReport",path:"/view/:reportId",exact:!0,main:Object(I.jsx)(kn,{})},{name:"PublicAccount",path:"/view-account/:accountId",exact:!0,main:Object(I.jsx)(Ha,{})},{name:"EmbeddedReport",path:"/embed/:reportId",exact:!0,main:Object(I.jsx)(En,{})},{name:"ResetPassword",path:"/resetpassword",exact:!0,main:Object(I.jsx)(Ra,{})}],Ma=[{name:"Dashboard",path:"/",exact:!0,main:function(){return Object(I.jsx)(Sn,{})}},{name:"DashboardFirstRun",path:"/first-run",exact:!0,main:function(){return Object(I.jsx)(Sn,{})}},{name:"Settings",path:"/account/:id/settings",exact:!0,main:function(){return Object(I.jsx)(Ea,{})}},{name:"Dashboard",path:"/account/:id",exact:!0,main:function(){return Object(I.jsx)(Sn,{})}},{name:"Organisation",path:"/organisation/:id",exact:!0,main:function(){return Object(I.jsx)(Ca,{})}},{name:"OrganisationSubscription",path:"/organisation/:id/subscription",exact:!0,main:function(){return Object(I.jsx)(Ca,{})}},{name:"AcceptInvite",path:"/accept-invite",exact:!0,main:function(){return Object(I.jsx)(Ta,{})}},{name:"NewOrg",path:"/new-organisation",exact:!0,main:function(){return Object(I.jsx)(Na,{})}}],Va=["element"];function qa(e){var t=e.element;Object(Ne.a)(e,Va);return Object(a.useContext)(P).user?Object(I.jsx)(t,{}):Object(I.jsx)(s.a,{to:{pathname:"/login"}})}var Ja=n(166),Xa=n(365),Ka={accounts:[],organisations:[],theme:{},reports:{},domainConfig:{},loading:!0,error:null};var Za={users:[],organisationAccounts:[],emailTemplates:[],emailTemplateSuccess:null,emailTemplateError:null,loading:!1};var Qa={organisationSubscription:null,manageBillingUrl:null,subscriptionOptions:[],loading:!0,error:null};var Ya=Object(Ja.combineReducers)({accounts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(k.a)(Object(k.a)({},e),{},{loading:!0,error:null});case H:return Object(k.a)(Object(k.a)({},e),{},{loading:!1,accounts:t.payload.accounts,organisations:t.payload.organisations});case G:return Object(k.a)(Object(k.a)({},e),{},{showNewOrganisation:!0,loading:!1,error:t.payload.error,accounts:[],organisations:[]});case M:var n=e.accounts.map((function(e){return e.id!==t.payload.account.id?e:Object(k.a)(Object(k.a)({},e),t.payload.account)}));return Object(k.a)(Object(k.a)({},e),{},{accounts:n});case q:return console.log(t),Object(k.a)(Object(k.a)({},e),{},{reports:t.payload});case K:return Object(k.a)(Object(k.a)({},e),{},{loading:!0,error:null,accessLogs:[]});case Z:return Object(k.a)(Object(k.a)({},e),{},{loading:!1,accessLogs:t.payload});case Q:return Object(k.a)(Object(k.a)({},e),{},{loading:!1,error:t.payload.error,accessLogs:[]});case V:return Object(k.a)(Object(k.a)({},e),{},{domainConfig:t.payload});case J:return Object(k.a)(Object(k.a)({},e),{},{theme:t.payload});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Et:return Object(k.a)(Object(k.a)({},e),{},{loading:t.value});case Ut:return Object(k.a)(Object(k.a)({},e),{},{emailTemplateError:null,emailTemplateSuccess:null});case Ct:return Object(k.a)({},e);case kt:return Object(k.a)(Object(k.a)({},e),{},{users:t.payload});case Tt:return Object(k.a)(Object(k.a)({},e),{},{url:null});case It:return Object(k.a)(Object(k.a)({},e),{},{url:t.payload.url||""});case At:return Object(k.a)(Object(k.a)({},e),{},{organisationAccounts:t.payload});case Bt:return Object(k.a)(Object(k.a)({},e),{},{emailTemplates:t.payload});case Rt:return Object(k.a)(Object(k.a)({},e),{},{emailTemplateSuccess:!0,emailTemplateError:null});case Wt:return Object(k.a)(Object(k.a)({},e),{},{emailTemplateError:t.payload.error,emailTemplateSuccess:null});case Nt:var n=e.users.filter((function(e){return e.uid!==t.payload}));return Object(k.a)(Object(k.a)({},e),{},{users:n});default:return e}},subscriptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case na:return Object(k.a)(Object(k.a)({},e),{},{loading:!0,error:null});case aa:return console.log(t.payload),Object(k.a)(Object(k.a)({},e),{},{loading:!1,subscriptionOptions:t.payload.options,organisationSubscription:t.payload.currentSubscription,manageBillingUrl:t.payload.manageBillingUrl});case ia:return Object(k.a)(Object(k.a)({},e),{},{loading:!1,error:t.payload.error,subscriptionOptions:[],organisationSubscription:null,manageBillingUrl:null});default:return e}}}),$a=Ya,ei=n(359),ti=n(693),ni=n(366);ti.a({dsn:"https://d448167783b3497f93231b6b736f5b1d@o439042.ingest.sentry.io/5758229",integrations:[new ni.a.BrowserTracing],tracesSampleRate:1});var ai=Object(Ja.createStore)($a,Object(ei.composeWithDevTools)(Object(Ja.applyMiddleware)(Xa.a)));function ii(){return Object(I.jsx)(Zn.a,{children:Object(I.jsx)(F,{children:Object(I.jsx)("div",{className:"App",children:Object(I.jsx)(r.a,{children:Object(I.jsxs)(s.d,{children:[Ga.map((function(e){return Object(I.jsx)(s.b,{path:e.path,exact:e.exact,element:e.main},e.path)})),Ma.map((function(e,t){return Object(I.jsx)(s.b,{path:e.path,element:Object(I.jsx)(qa,{path:e.path,exact:e.exact,element:e.main},e.path)},t)}))]})})})})})}var ci=document.getElementById("root");o.a.render(Object(I.jsx)(T.a,{store:ai,children:Object(I.jsx)(ii,{})}),ci)}},[[584,1,2]]]);
//# sourceMappingURL=main.e9b88858.chunk.js.map